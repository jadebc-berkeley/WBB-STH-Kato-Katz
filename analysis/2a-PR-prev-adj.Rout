
R version 3.2.3 (2015-12-10) -- "Wooden Christmas-Tree"
Copyright (C) 2015 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin13.4.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

[Previously saved workspace restored]

> ##############################################
> # WASH Benefits Bangladesh STH Kato-Katz Study
> # Primary outcome analysis  
> 
> # STH adjusted analysis
> 
> # by Jade
> ##############################################
> library(devtools)
Warning message:
package ‘devtools’ was built under R version 3.2.5 
> library(washb)
Welcome to the washb package
Version: 0.2.0
Created on 2016-10-12

The package's reference manual and vignette are also online:
https://ben-arnold.github.io/washb

> 
> rm(list=ls())
> data=read.csv("~/Dropbox/WASHB Parasites/Analysis datasets/Jade/sth.csv",stringsAsFactors=TRUE)
> source("~/documents/crg/wash-benefits/bangladesh/src/sth/analysis/0-base-programs.R")
> 
> d=preprocess.sth(data)
> d=preprocess.adj.sth(d)
> 
> # roof and landphone excluded due to low prevalence
> 
> W=c("counter","birthord","month","hfiacat","aged","sex","momage","momheight","momedu",
+     "Nlt18","Ncomp","watmin","walls","floor",
+     "elec","asset_wardrobe","asset_table","asset_chair","asset_khat","asset_chouki",
+     "asset_tv","asset_refrig","asset_bike","asset_moto","asset_sewmach","asset_mobile")
> 
> dW=d[,c("block","tr","clusterid","sth","al","hw","tt",W)]
> 
> #----------------------------------------------
> # H1: Unadjusted prevalence ratios; each arm vs. 
> # control. PR, CI, P-value
> #----------------------------------------------
> trlist=c("Water","Sanitation","Handwashing",
+          "WSH","Nutrition","Nutrition + WSH")
> 
> SL.library=c("SL.mean","SL.glm","SL.bayesglm","SL.gam","SL.glmnet")
> 
> est.al.h1=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$al,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c("Control",x),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))
Loading required package: tmle
Loading required package: SuperLearner
Loading required package: nnls
Super Learner
Version: 2.0-19
Package created on 2016-02-02

Welcome to the tmle package, version 1.2.0-2

Use tmleNews() to see details on changes and bug fixes

Attaching package: ‘tmle’

The following object is masked from ‘package:SuperLearner’:

    SL.glm.interaction


----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   2710 
N after dropping incomplete blocks:  2688 

Total of 22 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 24 observations dropped due to missing
values in one or more variables
  Final sample size: 2664 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------
Loading required package: lmtest
Loading required package: zoo

Attaching package: ‘zoo’

The following objects are masked from ‘package:base’:

    as.Date, as.Date.numeric


Likelihood Ratio Test P-values:
               P-value
counter        0.13915
birthord       0.99976
month          0.00000
hfiacat        0.62788
aged           0.00000
sex            0.95023
momage         0.01199
momheight      0.35670
momedu         0.23429
Nlt18          0.43932
Ncomp          0.07233
watmin         0.38723
walls          0.05379
floor          0.89736
elec           0.68221
asset_wardrobe 0.17638
asset_table    0.21847
asset_chair    0.43781
asset_khat     0.30929
asset_chouki   0.75757
asset_tv       0.43038
asset_refrig   0.12605
asset_bike     0.02722
asset_moto     0.92492
asset_sewmach  0.06985
asset_mobile   0.84095


Covariates selected (P<0.2):
                    P-value
counter        1.391473e-01
month          4.620632e-15
aged           7.744592e-08
momage         1.199236e-02
Ncomp          7.233476e-02
walls          5.379402e-02
asset_wardrobe 1.763826e-01
asset_refrig   1.260546e-01
asset_bike     2.721588e-02
asset_sewmach  6.984792e-02

-----------------------------------------
Loading required package: arm
Loading required package: MASS
Loading required package: Matrix
Loading required package: lme4

arm (Version 1.8-6, built: 2015-7-7)

Working directory is /Users/jadederong/Documents/CRG/wash-benefits/bangladesh/src/sth/analysis

Loading required package: gam
Loading required package: splines
Loading required package: foreach
Loaded gam 1.12

Loading required package: glmnet
Loaded glmnet 2.0-2


-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2777768 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.7222232 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8888775 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1111225 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.030482
   Estimated Variance:  0.00038508
              p-value:  0.12034
    95% Conf Interval: (-0.068944, 0.0079801) 

 Relative Risk
   Parameter Estimate:  0.91977
              p-value:  0.12818
    95% Conf Interval: (0.82581, 1.0244) 

              log(RR):  -0.083636
    variance(log(RR)):  0.0030224 

 Odds Ratio
   Parameter Estimate:  0.87667
              p-value:  0.12357
    95% Conf Interval: (0.74145, 1.0366) 

              log(OR):  -0.13162
    variance(log(OR)):  0.0073054 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 21 observations dropped due to missing
values in one or more variables
  Final sample size: 2680 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.10610
birthord       0.49550
month          0.00000
hfiacat        0.73572
aged           0.00000
sex            0.59079
momage         0.00520
momheight      0.55940
momedu         0.27277
Nlt18          0.50010
Ncomp          0.81496
watmin         0.43680
walls          0.04582
floor          0.14271
elec           0.75259
asset_wardrobe 0.29772
asset_table    0.42778
asset_chair    0.44590
asset_khat     0.33843
asset_chouki   0.13781
asset_tv       0.26033
asset_refrig   0.72548
asset_bike     0.34458
asset_moto     0.89390
asset_sewmach  0.23668
asset_mobile   0.70181


Covariates selected (P<0.2):
                  P-value
counter      1.061042e-01
month        8.079134e-14
aged         8.935704e-07
momage       5.198482e-03
walls        4.581850e-02
floor        1.427061e-01
asset_chouki 1.378098e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.3807527 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.6192473 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.6759239 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.3240761 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.040751
   Estimated Variance:  0.00049009
              p-value:  0.065652
    95% Conf Interval: (-0.084142, 0.002639) 

 Relative Risk
   Parameter Estimate:  0.89406
              p-value:  0.073833
    95% Conf Interval: (0.79077, 1.0109) 

              log(RR):  -0.11198
    variance(log(RR)):  0.0039238 

 Odds Ratio
   Parameter Estimate:  0.83853
              p-value:  0.069044
    95% Conf Interval: (0.69354, 1.0138) 

              log(OR):  -0.17611
    variance(log(OR)):  0.009382 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 20 observations dropped due to missing
values in one or more variables
  Final sample size: 2730 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.04316
birthord       0.93007
month          0.00000
hfiacat        0.15158
aged           0.00000
sex            0.66584
momage         0.00294
momheight      0.85055
momedu         0.43485
Nlt18          0.37169
Ncomp          0.06498
watmin         0.48869
walls          0.09959
floor          0.47839
elec           0.28351
asset_wardrobe 0.18985
asset_table    0.84088
asset_chair    0.71567
asset_khat     0.11276
asset_chouki   0.07551
asset_tv       0.51172
asset_refrig   0.47771
asset_bike     0.79147
asset_moto     0.85056
asset_sewmach  0.18243
asset_mobile   0.47153


Covariates selected (P<0.2):
                    P-value
counter        4.315705e-02
month          5.808101e-22
hfiacat        1.515785e-01
aged           4.430384e-10
momage         2.936209e-03
Ncomp          6.498041e-02
walls          9.958915e-02
asset_wardrobe 1.898480e-01
asset_khat     1.127618e-01
asset_chouki   7.551178e-02
asset_sewmach  1.824278e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2930468 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.3181651 
	   SL.glmnet_All    0.3887881 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.00017524
   Estimated Variance:  0.00045356
              p-value:  0.99343
    95% Conf Interval: (-0.041917, 0.041567) 

 Relative Risk
   Parameter Estimate:  0.99954
              p-value:  0.99344
    95% Conf Interval: (0.89645, 1.1145) 

              log(RR):  -0.00045695
    variance(log(RR)):  0.0030845 

 Odds Ratio
   Parameter Estimate:  0.99926
              p-value:  0.99344
    95% Conf Interval: (0.83753, 1.1922) 

              log(OR):  -0.00074119
    variance(log(OR)):  0.0081146 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 22 observations dropped due to missing
values in one or more variables
  Final sample size: 2715 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00377
birthord       0.64232
month          0.00000
hfiacat        0.22824
aged           0.00000
sex            0.80628
momage         0.00804
momheight      0.52977
momedu         0.04377
Nlt18          0.03637
Ncomp          0.00870
watmin         0.38295
walls          0.42590
floor          0.41134
elec           0.62839
asset_wardrobe 0.10779
asset_table    0.75373
asset_chair    0.70502
asset_khat     0.34302
asset_chouki   0.69031
asset_tv       0.35007
asset_refrig   0.06352
asset_bike     0.14481
asset_moto     0.60823
asset_sewmach  0.43654
asset_mobile   0.27306


Covariates selected (P<0.2):
                    P-value
counter        3.772212e-03
month          7.286204e-17
aged           1.132378e-09
momage         8.039373e-03
momedu         4.376777e-02
Nlt18          3.637126e-02
Ncomp          8.704949e-03
asset_wardrobe 1.077935e-01
asset_refrig   6.352296e-02
asset_bike     1.448114e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.3284517 
	      SL.glm_All    0.1593039 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.5122445 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.017436
   Estimated Variance:  0.00042889
              p-value:  0.39982
    95% Conf Interval: (-0.058027, 0.023155) 

 Relative Risk
   Parameter Estimate:  0.95461
              p-value:  0.40332
    95% Conf Interval: (0.85606, 1.0645) 

              log(RR):  -0.046457
    variance(log(RR)):  0.0030902 

 Odds Ratio
   Parameter Estimate:  0.92832
              p-value:  0.4012
    95% Conf Interval: (0.78034, 1.1044) 

              log(OR):  -0.074374
    variance(log(OR)):  0.0078492 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 26 observations dropped due to missing
values in one or more variables
  Final sample size: 2657 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00743
birthord       0.47908
month          0.00000
hfiacat        0.74005
aged           0.00000
sex            0.46084
momage         0.07501
momheight      0.96025
momedu         0.40939
Nlt18          0.51512
Ncomp          0.52943
watmin         0.92462
walls          0.33511
floor          0.56053
elec           0.79744
asset_wardrobe 0.00042
asset_table    0.39327
asset_chair    0.10710
asset_khat     0.49575
asset_chouki   0.16941
asset_tv       0.96536
asset_refrig   0.00767
asset_bike     0.13305
asset_moto     0.07032
asset_sewmach  0.78326
asset_mobile   0.76606


Covariates selected (P<0.2):
                    P-value
counter        7.430679e-03
month          4.228895e-16
aged           1.283455e-09
momage         7.501124e-02
asset_wardrobe 4.194778e-04
asset_chair    1.071024e-01
asset_chouki   1.694124e-01
asset_refrig   7.669610e-03
asset_bike     1.330470e-01
asset_moto     7.031556e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.3043227 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.6722454 
	   SL.glmnet_All    0.02343182 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.988084 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.011916 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.030697
   Estimated Variance:  0.00048597
              p-value:  0.16378
    95% Conf Interval: (-0.073904, 0.012511) 

 Relative Risk
   Parameter Estimate:  0.92013
              p-value:  0.16819
    95% Conf Interval: (0.81739, 1.0358) 

              log(RR):  -0.083241
    variance(log(RR)):  0.0036487 

 Odds Ratio
   Parameter Estimate:  0.87643
              p-value:  0.16557
    95% Conf Interval: (0.72736, 1.0561) 

              log(OR):  -0.1319
    variance(log(OR)):  0.0090486 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 28 observations dropped due to missing
values in one or more variables
  Final sample size: 2713 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.03573
birthord       0.64439
month          0.00000
hfiacat        0.46328
aged           0.00000
sex            0.62351
momage         0.00761
momheight      0.92802
momedu         0.02973
Nlt18          0.17175
Ncomp          0.34181
watmin         0.42532
walls          0.03916
floor          0.34796
elec           0.35377
asset_wardrobe 0.09237
asset_table    0.84028
asset_chair    0.48667
asset_khat     0.90208
asset_chouki   0.80731
asset_tv       0.40281
asset_refrig   0.49381
asset_bike     0.85669
asset_moto     0.67944
asset_sewmach  0.54335
asset_mobile   0.41439


Covariates selected (P<0.2):
                    P-value
counter        3.572505e-02
month          1.006669e-16
aged           1.192046e-08
momage         7.611732e-03
momedu         2.972545e-02
Nlt18          1.717531e-01
walls          3.915749e-02
asset_wardrobe 9.237123e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.3389723 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.6610277 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.020374
   Estimated Variance:  0.00038497
              p-value:  0.29908
    95% Conf Interval: (-0.058831, 0.018082) 

 Relative Risk
   Parameter Estimate:  0.94682
              p-value:  0.30052
    95% Conf Interval: (0.85376, 1.05) 

              log(RR):  -0.054649
    variance(log(RR)):  0.0027862 

 Odds Ratio
   Parameter Estimate:  0.91655
              p-value:  0.29962
    95% Conf Interval: (0.77739, 1.0806) 

              log(OR):  -0.087142
    variance(log(OR)):  0.0070583 

-----------------------------------------
> 
> est.hw.h1=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$hw,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c("Control",x),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   2710 
N after dropping incomplete blocks:  2688 

Total of 22 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 24 observations dropped due to missing
values in one or more variables
  Final sample size: 2664 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.06987
birthord       0.00002
month          0.00000
hfiacat        0.06514
aged           0.00000
sex            0.01687
momage         0.00904
momheight      0.30293
momedu         0.00000
Nlt18          0.00159
Ncomp          0.00000
watmin         0.69166
walls          0.03986
floor          0.00000
elec           0.00002
asset_wardrobe 0.00007
asset_table    0.00003
asset_chair    0.00000
asset_khat     0.00041
asset_chouki   0.06075
asset_tv       0.00000
asset_refrig   0.00001
asset_bike     0.40882
asset_moto     0.14414
asset_sewmach  0.01689
asset_mobile   0.00006


Covariates selected (P<0.2):
                    P-value
counter        6.986522e-02
birthord       1.860219e-05
month          1.347136e-10
hfiacat        6.513693e-02
aged           6.578143e-15
sex            1.687013e-02
momage         9.035549e-03
momedu         7.044297e-11
Nlt18          1.589674e-03
Ncomp          2.682496e-06
walls          3.986162e-02
floor          1.104869e-06
elec           2.325939e-05
asset_wardrobe 6.850407e-05
asset_table    2.621525e-05
asset_chair    1.349844e-06
asset_khat     4.064913e-04
asset_chouki   6.075453e-02
asset_tv       4.272500e-08
asset_refrig   9.870871e-06
asset_moto     1.441443e-01
asset_sewmach  1.688710e-02
asset_mobile   6.095233e-05

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2866364 
	      SL.glm_All    0.2113182 
	 SL.bayesglm_All    0.1922128 
	      SL.gam_All    0.3098326 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.9380755 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.06192452 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.014756
   Estimated Variance:  0.00011251
              p-value:  0.16417
    95% Conf Interval: (-0.035546, 0.0060332) 

 Relative Risk
   Parameter Estimate:  0.81329
              p-value:  0.17677
    95% Conf Interval: (0.60258, 1.0977) 

              log(RR):  -0.20666
    variance(log(RR)):  0.023408 

 Odds Ratio
   Parameter Estimate:  0.80047
              p-value:  0.17555
    95% Conf Interval: (0.58008, 1.1046) 

              log(OR):  -0.22256
    variance(log(OR)):  0.026995 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 21 observations dropped due to missing
values in one or more variables
  Final sample size: 2680 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.03522
birthord       0.00000
month          0.00000
hfiacat        0.00733
aged           0.00000
sex            0.12788
momage         0.00736
momheight      0.59892
momedu         0.00000
Nlt18          0.00042
Ncomp          0.00000
watmin         0.77007
walls          0.26154
floor          0.00000
elec           0.00006
asset_wardrobe 0.00123
asset_table    0.00008
asset_chair    0.00000
asset_khat     0.00001
asset_chouki   0.00880
asset_tv       0.00000
asset_refrig   0.00042
asset_bike     0.38590
asset_moto     0.47268
asset_sewmach  0.01010
asset_mobile   0.00493


Covariates selected (P<0.2):
                    P-value
counter        3.521967e-02
birthord       3.939731e-07
month          3.938993e-12
hfiacat        7.326635e-03
aged           9.007682e-19
sex            1.278841e-01
momage         7.362509e-03
momedu         7.474523e-10
Nlt18          4.160189e-04
Ncomp          1.151677e-06
floor          1.070562e-06
elec           6.181065e-05
asset_wardrobe 1.230387e-03
asset_table    8.167188e-05
asset_chair    3.771177e-06
asset_khat     1.174939e-05
asset_chouki   8.797065e-03
asset_tv       8.370458e-08
asset_refrig   4.179339e-04
asset_sewmach  1.010105e-02
asset_mobile   4.929094e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1605171 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.4948442 
	   SL.glmnet_All    0.3446387 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.7085197 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.1191128 
	      SL.gam_All    0 
	   SL.glmnet_All    0.1723675 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0073758
   Estimated Variance:  0.00013495
              p-value:  0.52548
    95% Conf Interval: (-0.030145, 0.015393) 

 Relative Risk
   Parameter Estimate:  0.9074
              p-value:  0.53645
    95% Conf Interval: (0.66679, 1.2348) 

              log(RR):  -0.097177
    variance(log(RR)):  0.024711 

 Odds Ratio
   Parameter Estimate:  0.90018
              p-value:  0.53551
    95% Conf Interval: (0.64545, 1.2554) 

              log(OR):  -0.10516
    variance(log(OR)):  0.028804 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 20 observations dropped due to missing
values in one or more variables
  Final sample size: 2730 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.05344
birthord       0.00000
month          0.00000
hfiacat        0.15530
aged           0.00000
sex            0.00126
momage         0.00030
momheight      0.13848
momedu         0.00000
Nlt18          0.00000
Ncomp          0.00000
watmin         0.69184
walls          0.12449
floor          0.00020
elec           0.00002
asset_wardrobe 0.00085
asset_table    0.00005
asset_chair    0.00000
asset_khat     0.00000
asset_chouki   0.00252
asset_tv       0.00011
asset_refrig   0.00128
asset_bike     0.22275
asset_moto     0.31234
asset_sewmach  0.00510
asset_mobile   0.00165


Covariates selected (P<0.2):
                    P-value
counter        5.343551e-02
birthord       4.516460e-09
month          2.058457e-10
hfiacat        1.553000e-01
aged           2.936914e-19
sex            1.255214e-03
momage         3.048558e-04
momheight      1.384833e-01
momedu         1.047115e-11
Nlt18          1.253342e-07
Ncomp          9.192342e-07
walls          1.244940e-01
floor          2.012066e-04
elec           1.592361e-05
asset_wardrobe 8.486079e-04
asset_table    4.905936e-05
asset_chair    9.224236e-07
asset_khat     8.198057e-07
asset_chouki   2.517014e-03
asset_tv       1.050320e-04
asset_refrig   1.276588e-03
asset_sewmach  5.097286e-03
asset_mobile   1.646983e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.134017 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.18878 
	      SL.gam_All    0.3250112 
	   SL.glmnet_All    0.3521917 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.0080773
   Estimated Variance:  9.7579e-05
              p-value:  0.41354
    95% Conf Interval: (-0.011284, 0.027439) 

 Relative Risk
   Parameter Estimate:  1.1018
              p-value:  0.40834
    95% Conf Interval: (0.87558, 1.3865) 

              log(RR):  0.096945
    variance(log(RR)):  0.013748 

 Odds Ratio
   Parameter Estimate:  1.1116
              p-value:  0.4087
    95% Conf Interval: (0.86491, 1.4285) 

              log(OR):  0.10576
    variance(log(OR)):  0.016386 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 22 observations dropped due to missing
values in one or more variables
  Final sample size: 2715 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.02377
birthord       0.00003
month          0.00000
hfiacat        0.02737
aged           0.00000
sex            0.00313
momage         0.04566
momheight      0.78566
momedu         0.00000
Nlt18          0.00026
Ncomp          0.00000
watmin         0.72453
walls          0.00607
floor          0.00000
elec           0.00001
asset_wardrobe 0.00026
asset_table    0.00020
asset_chair    0.00000
asset_khat     0.00000
asset_chouki   0.00077
asset_tv       0.00000
asset_refrig   0.00000
asset_bike     0.48928
asset_moto     0.09102
asset_sewmach  0.00453
asset_mobile   0.05817


Covariates selected (P<0.2):
                    P-value
counter        2.377213e-02
birthord       2.840339e-05
month          3.498125e-11
hfiacat        2.737315e-02
aged           2.338426e-18
sex            3.134936e-03
momage         4.566481e-02
momedu         5.153282e-09
Nlt18          2.579627e-04
Ncomp          3.931009e-06
walls          6.072868e-03
floor          5.954913e-08
elec           1.108028e-05
asset_wardrobe 2.631860e-04
asset_table    1.990507e-04
asset_chair    4.102201e-07
asset_khat     2.539495e-06
asset_chouki   7.733634e-04
asset_tv       1.055545e-08
asset_refrig   4.180375e-06
asset_moto     9.102342e-02
asset_sewmach  4.525824e-03
asset_mobile   5.817330e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1741909 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.7991956 
	   SL.glmnet_All    0.02661352 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.014982
   Estimated Variance:  0.00019693
              p-value:  0.2857
    95% Conf Interval: (-0.012523, 0.042486) 

 Relative Risk
   Parameter Estimate:  1.1896
              p-value:  0.2713
    95% Conf Interval: (0.8731, 1.6208) 

              log(RR):  0.1736
    variance(log(RR)):  0.024904 

 Odds Ratio
   Parameter Estimate:  1.2093
              p-value:  0.27251
    95% Conf Interval: (0.86124, 1.6979) 

              log(OR):  0.19
    variance(log(OR)):  0.029983 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 26 observations dropped due to missing
values in one or more variables
  Final sample size: 2657 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.17415
birthord       0.00000
month          0.00000
hfiacat        0.03042
aged           0.00000
sex            0.00128
momage         0.00795
momheight      0.35574
momedu         0.00000
Nlt18          0.01015
Ncomp          0.00004
watmin         0.41004
walls          0.01446
floor          0.00021
elec           0.00000
asset_wardrobe 0.00040
asset_table    0.00018
asset_chair    0.00003
asset_khat     0.00002
asset_chouki   0.00524
asset_tv       0.00032
asset_refrig   0.00003
asset_bike     0.08780
asset_moto     0.15662
asset_sewmach  0.00823
asset_mobile   0.00366


Covariates selected (P<0.2):
                    P-value
counter        1.741542e-01
birthord       4.914656e-06
month          2.499219e-08
hfiacat        3.042026e-02
aged           5.372178e-16
sex            1.278021e-03
momage         7.954315e-03
momedu         2.041341e-07
Nlt18          1.015437e-02
Ncomp          4.087091e-05
walls          1.446067e-02
floor          2.145374e-04
elec           3.386564e-06
asset_wardrobe 3.974291e-04
asset_table    1.804034e-04
asset_chair    2.830232e-05
asset_khat     2.439878e-05
asset_chouki   5.243456e-03
asset_tv       3.230333e-04
asset_refrig   3.060320e-05
asset_bike     8.780180e-02
asset_moto     1.566165e-01
asset_sewmach  8.225784e-03
asset_mobile   3.660953e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1640422 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.5100825 
	   SL.glmnet_All    0.3258753 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.008634
   Estimated Variance:  0.00013158
              p-value:  0.45163
    95% Conf Interval: (-0.031117, 0.013849) 

 Relative Risk
   Parameter Estimate:  0.89096
              p-value:  0.45946
    95% Conf Interval: (0.65614, 1.2098) 

              log(RR):  -0.11546
    variance(log(RR)):  0.024362 

 Odds Ratio
   Parameter Estimate:  0.88268
              p-value:  0.45876
    95% Conf Interval: (0.63449, 1.2279) 

              log(OR):  -0.12479
    variance(log(OR)):  0.028371 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 28 observations dropped due to missing
values in one or more variables
  Final sample size: 2713 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00169
birthord       0.00000
month          0.00000
hfiacat        0.01090
aged           0.00000
sex            0.00073
momage         0.02528
momheight      0.96776
momedu         0.00000
Nlt18          0.00342
Ncomp          0.00002
watmin         0.96058
walls          0.01117
floor          0.00000
elec           0.00000
asset_wardrobe 0.00012
asset_table    0.00007
asset_chair    0.00007
asset_khat     0.00014
asset_chouki   0.00092
asset_tv       0.00000
asset_refrig   0.00005
asset_bike     0.05124
asset_moto     0.06382
asset_sewmach  0.01232
asset_mobile   0.00664


Covariates selected (P<0.2):
                    P-value
counter        1.689427e-03
birthord       2.231044e-07
month          1.327007e-10
hfiacat        1.090092e-02
aged           1.127229e-11
sex            7.273685e-04
momage         2.528295e-02
momedu         2.532158e-11
Nlt18          3.415291e-03
Ncomp          2.187982e-05
walls          1.116847e-02
floor          3.785000e-06
elec           2.807318e-08
asset_wardrobe 1.177002e-04
asset_table    6.937195e-05
asset_chair    6.878697e-05
asset_khat     1.421758e-04
asset_chouki   9.161729e-04
asset_tv       4.892490e-06
asset_refrig   4.878891e-05
asset_bike     5.123537e-02
asset_moto     6.381613e-02
asset_sewmach  1.231537e-02
asset_mobile   6.640757e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.06543123 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.269869 
	   SL.glmnet_All    0.6646997 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8804694 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1195306 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0097647
   Estimated Variance:  0.00012302
              p-value:  0.37865
    95% Conf Interval: (-0.031504, 0.011974) 

 Relative Risk
   Parameter Estimate:  0.87607
              p-value:  0.3907
    95% Conf Interval: (0.64765, 1.1851) 

              log(RR):  -0.1323
    variance(log(RR)):  0.023758 

 Odds Ratio
   Parameter Estimate:  0.86689
              p-value:  0.38963
    95% Conf Interval: (0.62607, 1.2003) 

              log(OR):  -0.14285
    variance(log(OR)):  0.027572 

-----------------------------------------
> 
> est.tt.h1=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$tt,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c("Control",x),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   2710 
N after dropping incomplete blocks:  2688 

Total of 22 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 24 observations dropped due to missing
values in one or more variables
  Final sample size: 2664 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00004
birthord       0.02207
month          0.00000
hfiacat        0.00389
aged           0.03641
sex            0.11672
momage         0.03782
momheight      0.04765
momedu         0.00001
Nlt18          0.05727
Ncomp          0.00000
watmin         0.84542
walls          0.02948
floor          0.00034
elec           0.00002
asset_wardrobe 0.06791
asset_table    0.00302
asset_chair    0.00472
asset_khat     0.00231
asset_chouki   0.74305
asset_tv       0.00002
asset_refrig   0.00461
asset_bike     0.00566
asset_moto     0.56388
asset_sewmach  0.09238
asset_mobile   0.00148


Covariates selected (P<0.2):
                    P-value
counter        3.754892e-05
birthord       2.206911e-02
month          9.564924e-12
hfiacat        3.891852e-03
aged           3.641073e-02
sex            1.167178e-01
momage         3.782136e-02
momheight      4.764979e-02
momedu         1.376139e-05
Nlt18          5.726680e-02
Ncomp          1.834429e-07
walls          2.948319e-02
floor          3.412571e-04
elec           1.565792e-05
asset_wardrobe 6.791455e-02
asset_table    3.023252e-03
asset_chair    4.720025e-03
asset_khat     2.309116e-03
asset_tv       1.518999e-05
asset_refrig   4.610391e-03
asset_bike     5.656767e-03
asset_sewmach  9.238017e-02
asset_mobile   1.483799e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.4095626 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.3359912 
	   SL.glmnet_All    0.2544462 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.9642148 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.03578524 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.028722
   Estimated Variance:  0.00013032
              p-value:  0.011868
    95% Conf Interval: (-0.051097, -0.0063476) 

 Relative Risk
   Parameter Estimate:  0.65977
              p-value:  0.01536
    95% Conf Interval: (0.47136, 0.92351) 

              log(RR):  -0.41586
    variance(log(RR)):  0.029437 

 Odds Ratio
   Parameter Estimate:  0.63971
              p-value:  0.014772
    95% Conf Interval: (0.44668, 0.91615) 

              log(OR):  -0.44675
    variance(log(OR)):  0.03358 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 21 observations dropped due to missing
values in one or more variables
  Final sample size: 2680 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00482
birthord       0.01491
month          0.00000
hfiacat        0.00000
aged           0.00056
sex            0.82716
momage         0.01029
momheight      0.01817
momedu         0.00000
Nlt18          0.04651
Ncomp          0.00000
watmin         0.94533
walls          0.00898
floor          0.00046
elec           0.00000
asset_wardrobe 0.05877
asset_table    0.00000
asset_chair    0.00002
asset_khat     0.02487
asset_chouki   0.84846
asset_tv       0.00000
asset_refrig   0.00158
asset_bike     0.00058
asset_moto     0.13687
asset_sewmach  0.00838
asset_mobile   0.00004


Covariates selected (P<0.2):
                    P-value
counter        4.816722e-03
birthord       1.491025e-02
month          3.154753e-16
hfiacat        2.711464e-06
aged           5.570952e-04
momage         1.029201e-02
momheight      1.817315e-02
momedu         3.396982e-06
Nlt18          4.651182e-02
Ncomp          1.169680e-06
walls          8.983636e-03
floor          4.638695e-04
elec           3.785978e-09
asset_wardrobe 5.876634e-02
asset_table    1.617426e-07
asset_chair    1.978633e-05
asset_khat     2.486505e-02
asset_tv       1.848324e-06
asset_refrig   1.577689e-03
asset_bike     5.812774e-04
asset_moto     1.368746e-01
asset_sewmach  8.383869e-03
asset_mobile   4.083245e-05

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.343918 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.2378719 
	   SL.glmnet_All    0.4182101 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.7255292 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.2482395 
	      SL.gam_All    0 
	   SL.glmnet_All    0.02623125 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.017706
   Estimated Variance:  0.00013817
              p-value:  0.13199
    95% Conf Interval: (-0.040745, 0.0053331) 

 Relative Risk
   Parameter Estimate:  0.79165
              p-value:  0.14335
    95% Conf Interval: (0.57895, 1.0825) 

              log(RR):  -0.23363
    variance(log(RR)):  0.025487 

 Odds Ratio
   Parameter Estimate:  0.77662
              p-value:  0.14192
    95% Conf Interval: (0.55423, 1.0883) 

              log(OR):  -0.2528
    variance(log(OR)):  0.029628 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 20 observations dropped due to missing
values in one or more variables
  Final sample size: 2730 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00123
birthord       0.00522
month          0.00000
hfiacat        0.09875
aged           0.00068
sex            0.14498
momage         0.02266
momheight      0.14521
momedu         0.00020
Nlt18          0.01425
Ncomp          0.00001
watmin         0.91312
walls          0.00033
floor          0.00011
elec           0.00000
asset_wardrobe 0.02228
asset_table    0.00011
asset_chair    0.00101
asset_khat     0.05029
asset_chouki   0.95001
asset_tv       0.00011
asset_refrig   0.00396
asset_bike     0.01541
asset_moto     0.19248
asset_sewmach  0.01415
asset_mobile   0.00040


Covariates selected (P<0.2):
                    P-value
counter        1.233634e-03
birthord       5.220013e-03
month          3.930814e-13
hfiacat        9.874820e-02
aged           6.767958e-04
sex            1.449763e-01
momage         2.266055e-02
momheight      1.452063e-01
momedu         2.045194e-04
Nlt18          1.424923e-02
Ncomp          1.395889e-05
walls          3.265374e-04
floor          1.084368e-04
elec           3.559242e-06
asset_wardrobe 2.228281e-02
asset_table    1.061033e-04
asset_chair    1.012512e-03
asset_khat     5.028808e-02
asset_tv       1.133324e-04
asset_refrig   3.959158e-03
asset_bike     1.540589e-02
asset_moto     1.924758e-01
asset_sewmach  1.414836e-02
asset_mobile   4.014309e-04

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.3130044 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.06376881 
	   SL.glmnet_All    0.6232268 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.032352
   Estimated Variance:  0.00012277
              p-value:  0.0035033
    95% Conf Interval: (-0.054069, -0.010634) 

 Relative Risk
   Parameter Estimate:  0.61858
              p-value:  0.0067423
    95% Conf Interval: (0.43701, 0.8756) 

              log(RR):  -0.48033
    variance(log(RR)):  0.031431 

 Odds Ratio
   Parameter Estimate:  0.59746
              p-value:  0.0062541
    95% Conf Interval: (0.413, 0.8643) 

              log(OR):  -0.51507
    variance(log(OR)):  0.035488 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 22 observations dropped due to missing
values in one or more variables
  Final sample size: 2715 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00003
birthord       0.00219
month          0.00000
hfiacat        0.00651
aged           0.00030
sex            0.42125
momage         0.06718
momheight      0.29578
momedu         0.00000
Nlt18          0.01120
Ncomp          0.00000
watmin         0.92301
walls          0.00402
floor          0.00007
elec           0.00017
asset_wardrobe 0.01407
asset_table    0.00401
asset_chair    0.00002
asset_khat     0.00075
asset_chouki   0.12744
asset_tv       0.00000
asset_refrig   0.00020
asset_bike     0.12119
asset_moto     0.00694
asset_sewmach  0.00034
asset_mobile   0.53494


Covariates selected (P<0.2):
                    P-value
counter        2.536073e-05
birthord       2.189172e-03
month          1.839305e-17
hfiacat        6.510727e-03
aged           3.040436e-04
momage         6.718285e-02
momedu         7.945095e-07
Nlt18          1.119912e-02
Ncomp          1.761419e-10
walls          4.023065e-03
floor          6.665381e-05
elec           1.665810e-04
asset_wardrobe 1.406748e-02
asset_table    4.010099e-03
asset_chair    2.278863e-05
asset_khat     7.506489e-04
asset_chouki   1.274360e-01
asset_tv       6.388315e-07
asset_refrig   2.007038e-04
asset_bike     1.211939e-01
asset_moto     6.938361e-03
asset_sewmach  3.389113e-04

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.4529992 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.3838976 
	   SL.glmnet_All    0.1631032 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0046252
   Estimated Variance:  0.00019145
              p-value:  0.73817
    95% Conf Interval: (-0.031744, 0.022494) 

 Relative Risk
   Parameter Estimate:  0.94568
              p-value:  0.74164
    95% Conf Interval: (0.67849, 1.3181) 

              log(RR):  -0.05585
    variance(log(RR)):  0.028699 

 Odds Ratio
   Parameter Estimate:  0.94092
              p-value:  0.74132
    95% Conf Interval: (0.65544, 1.3507) 

              log(OR):  -0.060893
    variance(log(OR)):  0.034027 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 26 observations dropped due to missing
values in one or more variables
  Final sample size: 2657 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00008
birthord       0.01628
month          0.00000
hfiacat        0.02284
aged           0.00010
sex            0.09469
momage         0.10250
momheight      0.06337
momedu         0.00039
Nlt18          0.27585
Ncomp          0.00086
watmin         0.59253
walls          0.04063
floor          0.00057
elec           0.00001
asset_wardrobe 0.02848
asset_table    0.00173
asset_chair    0.00184
asset_khat     0.00672
asset_chouki   0.61086
asset_tv       0.00001
asset_refrig   0.00002
asset_bike     0.01960
asset_moto     0.02883
asset_sewmach  0.00174
asset_mobile   0.19360


Covariates selected (P<0.2):
                    P-value
counter        8.035474e-05
birthord       1.627728e-02
month          4.302023e-11
hfiacat        2.284330e-02
aged           1.035359e-04
sex            9.469380e-02
momage         1.025043e-01
momheight      6.337381e-02
momedu         3.885175e-04
Ncomp          8.605969e-04
walls          4.062577e-02
floor          5.702288e-04
elec           9.477375e-06
asset_wardrobe 2.848077e-02
asset_table    1.728584e-03
asset_chair    1.835179e-03
asset_khat     6.724011e-03
asset_tv       9.021473e-06
asset_refrig   2.488773e-05
asset_bike     1.960169e-02
asset_moto     2.883406e-02
asset_sewmach  1.735126e-03
asset_mobile   1.935969e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.4200922 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.5719069 
	   SL.glmnet_All    0.008000939 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.024551
   Estimated Variance:  0.00014505
              p-value:  0.041501
    95% Conf Interval: (-0.048156, -0.00094531) 

 Relative Risk
   Parameter Estimate:  0.7127
              p-value:  0.056757
    95% Conf Interval: (0.50301, 1.0098) 

              log(RR):  -0.3387
    variance(log(RR)):  0.031605 

 Odds Ratio
   Parameter Estimate:  0.69406
              p-value:  0.054998
    95% Conf Interval: (0.47797, 1.0079) 

              log(OR):  -0.36519
    variance(log(OR)):  0.036219 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 28 observations dropped due to missing
values in one or more variables
  Final sample size: 2713 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00486
birthord       0.00042
month          0.00000
hfiacat        0.00165
aged           0.00149
sex            0.92948
momage         0.13878
momheight      0.08299
momedu         0.00001
Nlt18          0.13648
Ncomp          0.00217
watmin         0.84382
walls          0.00235
floor          0.00100
elec           0.00000
asset_wardrobe 0.00503
asset_table    0.00031
asset_chair    0.00003
asset_khat     0.00587
asset_chouki   0.43033
asset_tv       0.00001
asset_refrig   0.00240
asset_bike     0.00660
asset_moto     0.03136
asset_sewmach  0.09235
asset_mobile   0.00018


Covariates selected (P<0.2):
                    P-value
counter        4.864020e-03
birthord       4.176780e-04
month          2.090889e-15
hfiacat        1.645612e-03
aged           1.485762e-03
momage         1.387788e-01
momheight      8.299409e-02
momedu         9.754902e-06
Nlt18          1.364756e-01
Ncomp          2.168971e-03
walls          2.348752e-03
floor          1.002144e-03
elec           1.803107e-07
asset_wardrobe 5.032671e-03
asset_table    3.133468e-04
asset_chair    2.532356e-05
asset_khat     5.873302e-03
asset_tv       5.782861e-06
asset_refrig   2.395696e-03
asset_bike     6.598348e-03
asset_moto     3.135695e-02
asset_sewmach  9.234881e-02
asset_mobile   1.816196e-04

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.4849101 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.5150899 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8896639 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1103361 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0063318
   Estimated Variance:  0.00016136
              p-value:  0.61816
    95% Conf Interval: (-0.031229, 0.018566) 

 Relative Risk
   Parameter Estimate:  0.92454
              p-value:  0.6221
    95% Conf Interval: (0.67673, 1.2631) 

              log(RR):  -0.078462
    variance(log(RR)):  0.025342 

 Odds Ratio
   Parameter Estimate:  0.91819
              p-value:  0.62171
    95% Conf Interval: (0.65418, 1.2888) 

              log(OR):  -0.08535
    variance(log(OR)):  0.02992 

-----------------------------------------
> 
> est.sth.h1=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$sth,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c("Control",x),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   2710 
N after dropping incomplete blocks:  2688 

Total of 22 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 24 observations dropped due to missing
values in one or more variables
  Final sample size: 2664 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.01250
birthord       0.62344
month          0.00000
hfiacat        0.42665
aged           0.00000
sex            0.72853
momage         0.00974
momheight      0.52496
momedu         0.01259
Nlt18          0.16942
Ncomp          0.00002
watmin         0.23666
walls          0.01119
floor          0.26588
elec           0.11252
asset_wardrobe 0.07499
asset_table    0.00959
asset_chair    0.02398
asset_khat     0.69341
asset_chouki   0.99529
asset_tv       0.01169
asset_refrig   0.00774
asset_bike     0.41920
asset_moto     0.96246
asset_sewmach  0.37387
asset_mobile   0.05739


Covariates selected (P<0.2):
                    P-value
counter        1.250369e-02
month          3.556963e-14
aged           6.460348e-13
momage         9.742205e-03
momedu         1.258751e-02
Nlt18          1.694243e-01
Ncomp          1.716181e-05
walls          1.119382e-02
elec           1.125159e-01
asset_wardrobe 7.498696e-02
asset_table    9.592026e-03
asset_chair    2.397541e-02
asset_tv       1.168710e-02
asset_refrig   7.738772e-03
asset_mobile   5.739448e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2615978 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.7384022 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8710979 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1289021 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.038248
   Estimated Variance:  0.00045819
              p-value:  0.07396
    95% Conf Interval: (-0.080203, 0.0037061) 

 Relative Risk
   Parameter Estimate:  0.91334
              p-value:  0.081877
    95% Conf Interval: (0.82468, 1.0115) 

              log(RR):  -0.090644
    variance(log(RR)):  0.0027141 

 Odds Ratio
   Parameter Estimate:  0.85481
              p-value:  0.076135
    95% Conf Interval: (0.71876, 1.0166) 

              log(OR):  -0.15687
    variance(log(OR)):  0.0078233 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 21 observations dropped due to missing
values in one or more variables
  Final sample size: 2680 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00622
birthord       0.07732
month          0.00000
hfiacat        0.08878
aged           0.00000
sex            0.30748
momage         0.00022
momheight      0.60942
momedu         0.00580
Nlt18          0.09720
Ncomp          0.01448
watmin         0.66400
walls          0.00996
floor          0.77670
elec           0.04773
asset_wardrobe 0.13038
asset_table    0.01157
asset_chair    0.01303
asset_khat     0.71788
asset_chouki   0.46755
asset_tv       0.00245
asset_refrig   0.14372
asset_bike     0.73987
asset_moto     0.89839
asset_sewmach  0.67715
asset_mobile   0.04016


Covariates selected (P<0.2):
                    P-value
counter        6.224016e-03
birthord       7.732151e-02
month          1.032336e-12
hfiacat        8.878033e-02
aged           7.478236e-14
momage         2.198500e-04
momedu         5.801481e-03
Nlt18          9.720385e-02
Ncomp          1.447877e-02
walls          9.961122e-03
elec           4.773298e-02
asset_wardrobe 1.303823e-01
asset_table    1.157403e-02
asset_chair    1.303340e-02
asset_tv       2.454676e-03
asset_refrig   1.437153e-01
asset_mobile   4.016419e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1739126 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.09213029 
	   SL.glmnet_All    0.7339571 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8730281 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.1269719 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.051858
   Estimated Variance:  0.00048532
              p-value:  0.018573
    95% Conf Interval: (-0.095037, -0.0086795) 

 Relative Risk
   Parameter Estimate:  0.88366
              p-value:  0.023079
    95% Conf Interval: (0.79424, 0.98315) 

              log(RR):  -0.12368
    variance(log(RR)):  0.0029631 

 Odds Ratio
   Parameter Estimate:  0.80806
              p-value:  0.019821
    95% Conf Interval: (0.67541, 0.96674) 

              log(OR):  -0.21313
    variance(log(OR)):  0.0083688 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 20 observations dropped due to missing
values in one or more variables
  Final sample size: 2730 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00061
birthord       0.08379
month          0.00000
hfiacat        0.44414
aged           0.00000
sex            0.50074
momage         0.00020
momheight      0.75770
momedu         0.06472
Nlt18          0.01365
Ncomp          0.00001
watmin         0.77788
walls          0.01745
floor          0.70493
elec           0.01004
asset_wardrobe 0.20139
asset_table    0.14849
asset_chair    0.04604
asset_khat     0.78103
asset_chouki   0.24303
asset_tv       0.06701
asset_refrig   0.20691
asset_bike     0.24829
asset_moto     0.68946
asset_sewmach  0.44938
asset_mobile   0.20210


Covariates selected (P<0.2):
                 P-value
counter     6.121510e-04
birthord    8.379419e-02
month       6.545950e-20
aged        4.342176e-17
momage      1.962128e-04
momedu      6.471522e-02
Nlt18       1.364890e-02
Ncomp       1.023356e-05
walls       1.744738e-02
elec        1.003781e-02
asset_table 1.484932e-01
asset_chair 4.604009e-02
asset_tv    6.701362e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1141791 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.2172779 
	   SL.glmnet_All    0.6685429 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0094269
   Estimated Variance:  0.00040457
              p-value:  0.6393
    95% Conf Interval: (-0.04885, 0.029996) 

 Relative Risk
   Parameter Estimate:  0.97878
              p-value:  0.64042
    95% Conf Interval: (0.89453, 1.071) 

              log(RR):  -0.021451
    variance(log(RR)):  0.002109 

 Odds Ratio
   Parameter Estimate:  0.96245
              p-value:  0.63955
    95% Conf Interval: (0.82002, 1.1296) 

              log(OR):  -0.03827
    variance(log(OR)):  0.0066774 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 22 observations dropped due to missing
values in one or more variables
  Final sample size: 2715 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00004
birthord       0.12192
month          0.00000
hfiacat        0.16722
aged           0.00000
sex            0.75266
momage         0.01380
momheight      0.45819
momedu         0.00911
Nlt18          0.01132
Ncomp          0.00000
watmin         0.63659
walls          0.07178
floor          0.03474
elec           0.19884
asset_wardrobe 0.04400
asset_table    0.25526
asset_chair    0.01493
asset_khat     0.82428
asset_chouki   0.91757
asset_tv       0.00545
asset_refrig   0.00189
asset_bike     0.80666
asset_moto     0.95046
asset_sewmach  0.75242
asset_mobile   0.61539


Covariates selected (P<0.2):
                    P-value
counter        3.567216e-05
birthord       1.219239e-01
month          4.009377e-15
hfiacat        1.672201e-01
aged           5.512681e-17
momage         1.379823e-02
momedu         9.113450e-03
Nlt18          1.132495e-02
Ncomp          6.688903e-08
walls          7.178303e-02
floor          3.473819e-02
elec           1.988356e-01
asset_wardrobe 4.399797e-02
asset_chair    1.493481e-02
asset_tv       5.446970e-03
asset_refrig   1.887498e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2362901 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.607318 
	   SL.glmnet_All    0.1563919 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.018271
   Estimated Variance:  0.00048005
              p-value:  0.40432
    95% Conf Interval: (-0.061215, 0.024672) 

 Relative Risk
   Parameter Estimate:  0.95895
              p-value:  0.40825
    95% Conf Interval: (0.86827, 1.0591) 

              log(RR):  -0.041912
    variance(log(RR)):  0.0025686 

 Odds Ratio
   Parameter Estimate:  0.92838
              p-value:  0.40526
    95% Conf Interval: (0.77933, 1.1059) 

              log(OR):  -0.074311
    variance(log(OR)):  0.0079723 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 26 observations dropped due to missing
values in one or more variables
  Final sample size: 2657 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00042
birthord       0.26356
month          0.00000
hfiacat        0.07657
aged           0.00000
sex            0.74819
momage         0.03352
momheight      0.95132
momedu         0.09006
Nlt18          0.95456
Ncomp          0.00251
watmin         0.72915
walls          0.09526
floor          0.10259
elec           0.34012
asset_wardrobe 0.00011
asset_table    0.03848
asset_chair    0.00333
asset_khat     0.79586
asset_chouki   0.35255
asset_tv       0.26560
asset_refrig   0.00010
asset_bike     0.86949
asset_moto     0.03427
asset_sewmach  0.51759
asset_mobile   0.09258


Covariates selected (P<0.2):
                    P-value
counter        4.175276e-04
month          3.879946e-15
hfiacat        7.657181e-02
aged           2.591511e-17
momage         3.352372e-02
momedu         9.005659e-02
Ncomp          2.510451e-03
walls          9.526339e-02
floor          1.025882e-01
asset_wardrobe 1.067027e-04
asset_table    3.848224e-02
asset_chair    3.328343e-03
asset_refrig   9.527252e-05
asset_moto     3.426861e-02
asset_mobile   9.257815e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2358671 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.7641329 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.99231 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.007690009 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.046469
   Estimated Variance:  0.00053419
              p-value:  0.044374
    95% Conf Interval: (-0.091769, -0.0011682) 

 Relative Risk
   Parameter Estimate:  0.89577
              p-value:  0.048218
    95% Conf Interval: (0.80309, 0.99914) 

              log(RR):  -0.11007
    variance(log(RR)):  0.0031048 

 Odds Ratio
   Parameter Estimate:  0.82647
              p-value:  0.045505
    95% Conf Interval: (0.68566, 0.9962) 

              log(OR):  -0.19059
    variance(log(OR)):  0.0090819 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 28 observations dropped due to missing
values in one or more variables
  Final sample size: 2713 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00200
birthord       0.19942
month          0.00000
hfiacat        0.09650
aged           0.00000
sex            0.41757
momage         0.02928
momheight      0.98192
momedu         0.00401
Nlt18          0.15710
Ncomp          0.00369
watmin         0.74034
walls          0.00373
floor          0.02855
elec           0.00464
asset_wardrobe 0.01516
asset_table    0.04157
asset_chair    0.01961
asset_khat     0.43182
asset_chouki   0.56157
asset_tv       0.01651
asset_refrig   0.04999
asset_bike     0.25032
asset_moto     0.25765
asset_sewmach  0.78474
asset_mobile   0.16986


Covariates selected (P<0.2):
                    P-value
counter        1.997707e-03
birthord       1.994210e-01
month          3.975556e-17
hfiacat        9.649646e-02
aged           8.188790e-14
momage         2.927512e-02
momedu         4.014914e-03
Nlt18          1.570963e-01
Ncomp          3.687132e-03
walls          3.728520e-03
floor          2.855295e-02
elec           4.639657e-03
asset_wardrobe 1.515867e-02
asset_table    4.157311e-02
asset_chair    1.960641e-02
asset_tv       1.651442e-02
asset_refrig   4.999410e-02
asset_mobile   1.698632e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2284405 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.3686723 
	   SL.glmnet_All    0.4028871 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8396408 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1603592 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.011398
   Estimated Variance:  0.00048327
              p-value:  0.60411
    95% Conf Interval: (-0.054486, 0.031689) 

 Relative Risk
   Parameter Estimate:  0.9743
              p-value:  0.60527
    95% Conf Interval: (0.88269, 1.0754) 

              log(RR):  -0.026038
    variance(log(RR)):  0.0025381 

 Odds Ratio
   Parameter Estimate:  0.95474
              p-value:  0.60438
    95% Conf Interval: (0.80131, 1.1376) 

              log(OR):  -0.046312
    variance(log(OR)):  0.0079901 

-----------------------------------------
> 
> al_rr_h1_adj_j=format.tmle(est.al.h1,family="binomial")$rr
> al_rd_h1_adj_j=format.tmle(est.al.h1,family="binomial")$rd
> 
> hw_rr_h1_adj_j=format.tmle(est.hw.h1,family="binomial")$rr
> hw_rd_h1_adj_j=format.tmle(est.hw.h1,family="binomial")$rd
> 
> tt_rr_h1_adj_j=format.tmle(est.tt.h1,family="binomial")$rr
> tt_rd_h1_adj_j=format.tmle(est.tt.h1,family="binomial")$rd
> 
> sth_rr_h1_adj_j=format.tmle(est.sth.h1,family="binomial")$rr
> sth_rd_h1_adj_j=format.tmle(est.sth.h1,family="binomial")$rd
> 
> rownames(al_rr_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                                "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> rownames(hw_rr_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                                "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> rownames(tt_rr_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                                "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> rownames(sth_rr_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                                "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> 
> rownames(al_rd_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                                "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> rownames(hw_rd_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                              "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> rownames(tt_rd_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                              "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> rownames(sth_rd_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                              "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
>   
> #----------------------------------------------
> # H2: Unadjusted prevalence ratios; combined WSH vs. 
> # single arms.  PR, CI, P-value
> #----------------------------------------------
> trlist=c("Water","Sanitation","Handwashing")
> 
> est.al.h2=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$al,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   1793 
N after dropping incomplete blocks:  1783 

Total of 10 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 10 observations dropped due to missing
values in one or more variables
  Final sample size: 1773 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.02677
birthord       0.55667
month          0.00000
hfiacat        0.30168
aged           0.00000
sex            0.51949
momage         0.88602
momheight      0.38915
momedu         0.20298
Nlt18          0.15327
Ncomp          0.00294
watmin         0.25993
walls          0.42844
floor          0.86820
elec           0.23385
asset_wardrobe 0.73296
asset_table    0.95499
asset_chair    0.37767
asset_khat     0.81085
asset_chouki   0.07542
asset_tv       0.08036
asset_refrig   0.39682
asset_bike     0.12369
asset_moto     0.10936
asset_sewmach  0.02558
asset_mobile   0.25064


Covariates selected (P<0.2):
                   P-value
counter       2.676949e-02
month         9.909096e-08
aged          2.095914e-07
Nlt18         1.532681e-01
Ncomp         2.941938e-03
asset_chouki  7.541894e-02
asset_tv      8.036369e-02
asset_bike    1.236877e-01
asset_moto    1.093592e-01
asset_sewmach 2.558178e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.3128301 
	      SL.glm_All    0.2465978 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.4405721 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8009281 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1990719 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.010116
   Estimated Variance:  0.0005731
              p-value:  0.67261
    95% Conf Interval: (-0.036805, 0.057037) 

 Relative Risk
   Parameter Estimate:  1.0286
              p-value:  0.67366
    95% Conf Interval: (0.902, 1.173) 

              log(RR):  0.028227
    variance(log(RR)):  0.0044926 

 Odds Ratio
   Parameter Estimate:  1.045
              p-value:  0.67307
    95% Conf Interval: (0.85183, 1.2819) 

              log(OR):  0.043994
    variance(log(OR)):  0.010872 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 7 observations dropped due to missing
values in one or more variables
  Final sample size: 1777 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00690
birthord       0.76934
month          0.00000
hfiacat        0.49756
aged           0.00000
sex            0.87557
momage         0.60387
momheight      0.37657
momedu         0.49350
Nlt18          0.24587
Ncomp          0.63720
watmin         0.39520
walls          0.50413
floor          0.35417
elec           0.13222
asset_wardrobe 0.39663
asset_table    0.66866
asset_chair    0.31247
asset_khat     0.65415
asset_chouki   0.62967
asset_tv       0.05620
asset_refrig   0.52721
asset_bike     0.88441
asset_moto     0.04552
asset_sewmach  0.12854
asset_mobile   0.17085


Covariates selected (P<0.2):
                   P-value
counter       6.900028e-03
month         7.292115e-07
aged          3.954379e-06
elec          1.322237e-01
asset_tv      5.620466e-02
asset_moto    4.552029e-02
asset_sewmach 1.285406e-01
asset_mobile  1.708533e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.4815663 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.5184337 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.9571553 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.04284467 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.024459
   Estimated Variance:  0.00051671
              p-value:  0.28192
    95% Conf Interval: (-0.020094, 0.069013) 

 Relative Risk
   Parameter Estimate:  1.0713
              p-value:  0.28693
    95% Conf Interval: (0.94377, 1.216) 

              log(RR):  0.068843
    variance(log(RR)):  0.0041795 

 Odds Ratio
   Parameter Estimate:  1.1127
              p-value:  0.28412
    95% Conf Interval: (0.91519, 1.3528) 

              log(OR):  0.10679
    variance(log(OR)):  0.0099407 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 6 observations dropped due to missing
values in one or more variables
  Final sample size: 1827 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.02516
birthord       0.69389
month          0.00000
hfiacat        0.04931
aged           0.00000
sex            0.17234
momage         0.37642
momheight      0.67490
momedu         0.91023
Nlt18          0.18717
Ncomp          0.00449
watmin         0.43393
walls          0.80445
floor          0.90587
elec           0.57765
asset_wardrobe 0.68455
asset_table    0.08986
asset_chair    0.15568
asset_khat     0.66581
asset_chouki   0.99093
asset_tv       0.19016
asset_refrig   0.87451
asset_bike     0.16666
asset_moto     0.13710
asset_sewmach  0.10643
asset_mobile   0.09317


Covariates selected (P<0.2):
                   P-value
counter       2.515832e-02
month         5.165535e-13
hfiacat       4.931048e-02
aged          6.444957e-10
sex           1.723441e-01
Nlt18         1.871735e-01
Ncomp         4.490015e-03
asset_table   8.986030e-02
asset_chair   1.556800e-01
asset_tv      1.901562e-01
asset_bike    1.666627e-01
asset_moto    1.371013e-01
asset_sewmach 1.064292e-01
asset_mobile  9.317473e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.289295 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.5794801 
	   SL.glmnet_All    0.1312248 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.986436 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.01356403 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.019905
   Estimated Variance:  0.00060647
              p-value:  0.41892
    95% Conf Interval: (-0.068174, 0.028363) 

 Relative Risk
   Parameter Estimate:  0.9485
              p-value:  0.41819
    95% Conf Interval: (0.83454, 1.078) 

              log(RR):  -0.05287
    variance(log(RR)):  0.004265 

 Odds Ratio
   Parameter Estimate:  0.91869
              p-value:  0.41864
    95% Conf Interval: (0.74803, 1.1283) 

              log(OR):  -0.084803
    variance(log(OR)):  0.010994 

-----------------------------------------
> 
> est.hw.h2=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$hw,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   1793 
N after dropping incomplete blocks:  1783 

Total of 10 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 10 observations dropped due to missing
values in one or more variables
  Final sample size: 1773 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.01639
birthord       0.02226
month          0.00000
hfiacat        0.02535
aged           0.00000
sex            0.06934
momage         0.56779
momheight      0.04242
momedu         0.00021
Nlt18          0.00416
Ncomp          0.03883
watmin         0.76868
walls          0.09334
floor          0.00000
elec           0.00605
asset_wardrobe 0.00837
asset_table    0.01496
asset_chair    0.00013
asset_khat     0.00039
asset_chouki   0.14665
asset_tv       0.00000
asset_refrig   0.00000
asset_bike     0.55928
asset_moto     0.01759
asset_sewmach  0.07144
asset_mobile   0.01100


Covariates selected (P<0.2):
                    P-value
counter        1.638677e-02
birthord       2.226473e-02
month          3.118037e-06
hfiacat        2.535177e-02
aged           1.281595e-09
sex            6.934466e-02
momheight      4.241639e-02
momedu         2.068275e-04
Nlt18          4.159349e-03
Ncomp          3.882707e-02
walls          9.334368e-02
floor          1.292740e-06
elec           6.048411e-03
asset_wardrobe 8.366710e-03
asset_table    1.495675e-02
asset_chair    1.307734e-04
asset_khat     3.857094e-04
asset_chouki   1.466498e-01
asset_tv       4.001761e-11
asset_refrig   1.602716e-07
asset_moto     1.758973e-02
asset_sewmach  7.144010e-02
asset_mobile   1.100077e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.3304752 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.6695248 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.883539 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.116461 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.033581
   Estimated Variance:  0.00018607
              p-value:  0.013825
    95% Conf Interval: (0.0068449, 0.060317) 

 Relative Risk
   Parameter Estimate:  1.5398
              p-value:  0.013009
    95% Conf Interval: (1.0953, 2.1649) 

              log(RR):  0.43168
    variance(log(RR)):  0.030212 

 Odds Ratio
   Parameter Estimate:  1.597
              p-value:  0.012851
    95% Conf Interval: (1.1044, 2.3093) 

              log(OR):  0.46814
    variance(log(OR)):  0.035407 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 7 observations dropped due to missing
values in one or more variables
  Final sample size: 1777 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00370
birthord       0.00100
month          0.00000
hfiacat        0.02101
aged           0.00000
sex            0.43623
momage         0.77628
momheight      0.89069
momedu         0.00154
Nlt18          0.00104
Ncomp          0.01741
watmin         0.69670
walls          0.54137
floor          0.00000
elec           0.01226
asset_wardrobe 0.06690
asset_table    0.03108
asset_chair    0.00029
asset_khat     0.00001
asset_chouki   0.02373
asset_tv       0.00000
asset_refrig   0.00008
asset_bike     0.44185
asset_moto     0.12808
asset_sewmach  0.04452
asset_mobile   0.27734


Covariates selected (P<0.2):
                    P-value
counter        3.700748e-03
birthord       1.004558e-03
month          8.207652e-08
hfiacat        2.101467e-02
aged           2.314943e-13
momedu         1.542591e-03
Nlt18          1.040907e-03
Ncomp          1.740858e-02
floor          6.327530e-07
elec           1.226109e-02
asset_wardrobe 6.689919e-02
asset_table    3.108343e-02
asset_chair    2.860110e-04
asset_khat     1.254591e-05
asset_chouki   2.373237e-02
asset_tv       9.114579e-11
asset_refrig   8.159161e-05
asset_moto     1.280760e-01
asset_sewmach  4.452453e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2314132 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.3768391 
	   SL.glmnet_All    0.3917477 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.021887
   Estimated Variance:  0.00020631
              p-value:  0.12757
    95% Conf Interval: (-0.0062661, 0.050039) 

 Relative Risk
   Parameter Estimate:  1.2979
              p-value:  0.13637
    95% Conf Interval: (0.92092, 1.8293) 

              log(RR):  0.26078
    variance(log(RR)):  0.030654 

 Odds Ratio
   Parameter Estimate:  1.3293
              p-value:  0.13515
    95% Conf Interval: (0.91506, 1.9312) 

              log(OR):  0.28468
    variance(log(OR)):  0.036305 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 6 observations dropped due to missing
values in one or more variables
  Final sample size: 1827 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00616
birthord       0.00002
month          0.00000
hfiacat        0.24085
aged           0.00000
sex            0.00453
momage         0.30502
momheight      0.30611
momedu         0.00007
Nlt18          0.00000
Ncomp          0.00945
watmin         0.88686
walls          0.33261
floor          0.00200
elec           0.00307
asset_wardrobe 0.03782
asset_table    0.01377
asset_chair    0.00004
asset_khat     0.00000
asset_chouki   0.00556
asset_tv       0.00001
asset_refrig   0.00046
asset_bike     0.25538
asset_moto     0.07026
asset_sewmach  0.02181
asset_mobile   0.10539


Covariates selected (P<0.2):
                    P-value
counter        6.157279e-03
birthord       1.740868e-05
month          2.856028e-07
aged           8.118913e-14
sex            4.532621e-03
momedu         6.542405e-05
Nlt18          1.998456e-07
Ncomp          9.451604e-03
floor          2.001462e-03
elec           3.074396e-03
asset_wardrobe 3.781868e-02
asset_table    1.377390e-02
asset_chair    4.251752e-05
asset_khat     4.089562e-07
asset_chouki   5.556279e-03
asset_tv       5.320868e-06
asset_refrig   4.571187e-04
asset_moto     7.026172e-02
asset_sewmach  2.180606e-02
asset_mobile   1.053853e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1147291 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.3949728 
	   SL.glmnet_All    0.4902981 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.0061129
   Estimated Variance:  0.00018499
              p-value:  0.65312
    95% Conf Interval: (-0.020545, 0.032771) 

 Relative Risk
   Parameter Estimate:  1.0696
              p-value:  0.6501
    95% Conf Interval: (0.79979, 1.4304) 

              log(RR):  0.067277
    variance(log(RR)):  0.021996 

 Odds Ratio
   Parameter Estimate:  1.0768
              p-value:  0.65037
    95% Conf Interval: (0.78192, 1.4829) 

              log(OR):  0.074001
    variance(log(OR)):  0.026657 

-----------------------------------------
> 
> est.tt.h2=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$tt,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   1793 
N after dropping incomplete blocks:  1783 

Total of 10 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 10 observations dropped due to missing
values in one or more variables
  Final sample size: 1773 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.04556
birthord       0.04424
month          0.00000
hfiacat        0.01195
aged           0.12393
sex            0.74915
momage         0.83193
momheight      0.75333
momedu         0.00000
Nlt18          0.01608
Ncomp          0.00000
watmin         0.95387
walls          0.15864
floor          0.00084
elec           0.65031
asset_wardrobe 0.17753
asset_table    0.30011
asset_chair    0.00044
asset_khat     0.00004
asset_chouki   0.02649
asset_tv       0.00991
asset_refrig   0.08950
asset_bike     0.23384
asset_moto     0.28516
asset_sewmach  0.17800
asset_mobile   0.52757


Covariates selected (P<0.2):
                    P-value
counter        4.556105e-02
birthord       4.423610e-02
month          9.578511e-09
hfiacat        1.195157e-02
aged           1.239280e-01
momedu         2.700620e-06
Nlt18          1.607835e-02
Ncomp          5.366840e-10
walls          1.586446e-01
floor          8.405655e-04
asset_wardrobe 1.775316e-01
asset_chair    4.357931e-04
asset_khat     3.996478e-05
asset_chouki   2.648841e-02
asset_tv       9.913506e-03
asset_refrig   8.950029e-02
asset_sewmach  1.780026e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.5430423 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.2075371 
	   SL.glmnet_All    0.2494206 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8435972 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1564028 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.026693
   Estimated Variance:  0.00016205
              p-value:  0.036007
    95% Conf Interval: (0.0017421, 0.051644) 

 Relative Risk
   Parameter Estimate:  1.4911
              p-value:  0.025555
    95% Conf Interval: (1.05, 2.1175) 

              log(RR):  0.39954
    variance(log(RR)):  0.032016 

 Odds Ratio
   Parameter Estimate:  1.5344
              p-value:  0.025799
    95% Conf Interval: (1.0531, 2.2359) 

              log(OR):  0.42817
    variance(log(OR)):  0.036891 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 7 observations dropped due to missing
values in one or more variables
  Final sample size: 1777 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00207
birthord       0.02586
month          0.00000
hfiacat        0.00006
aged           0.00133
sex            0.19427
momage         0.32180
momheight      0.35825
momedu         0.00000
Nlt18          0.01149
Ncomp          0.00000
watmin         0.25439
walls          0.07254
floor          0.00117
elec           0.00871
asset_wardrobe 0.14670
asset_table    0.00006
asset_chair    0.00000
asset_khat     0.00278
asset_chouki   0.05225
asset_tv       0.00117
asset_refrig   0.04458
asset_bike     0.03259
asset_moto     0.00436
asset_sewmach  0.01243
asset_mobile   0.04210


Covariates selected (P<0.2):
                    P-value
counter        2.069287e-03
birthord       2.585560e-02
month          9.425867e-12
hfiacat        5.842841e-05
aged           1.325543e-03
sex            1.942740e-01
momedu         1.389433e-06
Nlt18          1.149126e-02
Ncomp          9.157337e-09
walls          7.253913e-02
floor          1.171947e-03
elec           8.714090e-03
asset_wardrobe 1.466979e-01
asset_table    5.698658e-05
asset_chair    9.174753e-08
asset_khat     2.784443e-03
asset_chouki   5.225159e-02
asset_tv       1.174715e-03
asset_refrig   4.457967e-02
asset_bike     3.259174e-02
asset_moto     4.355459e-03
asset_sewmach  1.242537e-02
asset_mobile   4.209792e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.3939132 
	      SL.glm_All    0.3871785 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.2189084 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8126243 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.1873757 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.015648
   Estimated Variance:  0.00014771
              p-value:  0.1979
    95% Conf Interval: (-0.0081729, 0.03947) 

 Relative Risk
   Parameter Estimate:  1.2376
              p-value:  0.19391
    95% Conf Interval: (0.89721, 1.7072) 

              log(RR):  0.21319
    variance(log(RR)):  0.026931 

 Odds Ratio
   Parameter Estimate:  1.2587
              p-value:  0.19369
    95% Conf Interval: (0.88969, 1.7808) 

              log(OR):  0.23008
    variance(log(OR)):  0.031338 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 6 observations dropped due to missing
values in one or more variables
  Final sample size: 1827 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.28728
birthord       0.00716
month          0.00000
hfiacat        0.10479
aged           0.00146
sex            0.85308
momage         0.58025
momheight      0.75417
momedu         0.00009
Nlt18          0.00204
Ncomp          0.00000
watmin         0.26824
walls          0.00122
floor          0.00021
elec           0.37971
asset_wardrobe 0.06207
asset_table    0.03635
asset_chair    0.00005
asset_khat     0.00934
asset_chouki   0.08461
asset_tv       0.03827
asset_refrig   0.10124
asset_bike     0.38907
asset_moto     0.01684
asset_sewmach  0.02451
asset_mobile   0.25407


Covariates selected (P<0.2):
                    P-value
birthord       7.162473e-03
month          1.905386e-09
hfiacat        1.047854e-01
aged           1.464099e-03
momedu         8.675565e-05
Nlt18          2.042928e-03
Ncomp          2.990949e-07
walls          1.218156e-03
floor          2.135845e-04
asset_wardrobe 6.206987e-02
asset_table    3.634946e-02
asset_chair    4.887924e-05
asset_khat     9.338322e-03
asset_chouki   8.460608e-02
asset_tv       3.826623e-02
asset_refrig   1.012369e-01
asset_moto     1.683713e-02
asset_sewmach  2.450749e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.3641584 
	      SL.glm_All    0.1071254 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1888042 
	   SL.glmnet_All    0.3399121 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.026078
   Estimated Variance:  0.00017859
              p-value:  0.051005
    95% Conf Interval: (-0.00011439, 0.052271) 

 Relative Risk
   Parameter Estimate:  1.492
              p-value:  0.042051
    95% Conf Interval: (1.0145, 2.1942) 

              log(RR):  0.4001
    variance(log(RR)):  0.038731 

 Odds Ratio
   Parameter Estimate:  1.5342
              p-value:  0.042186
    95% Conf Interval: (1.0152, 2.3186) 

              log(OR):  0.42803
    variance(log(OR)):  0.044384 

-----------------------------------------
> 
> est.sth.h2=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$sth,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   1793 
N after dropping incomplete blocks:  1783 

Total of 10 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 10 observations dropped due to missing
values in one or more variables
  Final sample size: 1773 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00634
birthord       0.80316
month          0.00000
hfiacat        0.28314
aged           0.00000
sex            0.04642
momage         0.75224
momheight      0.92306
momedu         0.00534
Nlt18          0.04898
Ncomp          0.00003
watmin         0.17423
walls          0.14788
floor          0.18151
elec           0.86248
asset_wardrobe 0.53897
asset_table    0.37038
asset_chair    0.38632
asset_khat     0.08029
asset_chouki   0.04574
asset_tv       0.00042
asset_refrig   0.06109
asset_bike     0.44497
asset_moto     0.26651
asset_sewmach  0.21968
asset_mobile   0.90221


Covariates selected (P<0.2):
                  P-value
counter      6.337173e-03
month        1.329592e-08
aged         7.062548e-11
sex          4.641936e-02
momedu       5.337570e-03
Nlt18        4.898138e-02
Ncomp        3.061851e-05
watmin       1.742296e-01
walls        1.478795e-01
floor        1.815074e-01
asset_khat   8.029438e-02
asset_chouki 4.573509e-02
asset_tv     4.196273e-04
asset_refrig 6.108584e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2168612 
	      SL.glm_All    0.4548796 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.3282592 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.7750189 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.2249811 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.019816
   Estimated Variance:  0.00067703
              p-value:  0.44631
    95% Conf Interval: (-0.031182, 0.070815) 

 Relative Risk
   Parameter Estimate:  1.0488
              p-value:  0.44888
    95% Conf Interval: (0.92706, 1.1866) 

              log(RR):  0.047689
    variance(log(RR)):  0.0039656 

 Odds Ratio
   Parameter Estimate:  1.085
              p-value:  0.44709
    95% Conf Interval: (0.87918, 1.3391) 

              log(OR):  0.081601
    variance(log(OR)):  0.01152 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 7 observations dropped due to missing
values in one or more variables
  Final sample size: 1777 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00142
birthord       0.06311
month          0.00000
hfiacat        0.06022
aged           0.00000
sex            0.68911
momage         0.25388
momheight      0.22310
momedu         0.00785
Nlt18          0.02872
Ncomp          0.05307
watmin         0.50140
walls          0.20971
floor          0.87876
elec           0.63233
asset_wardrobe 0.87134
asset_table    0.38177
asset_chair    0.29300
asset_khat     0.07076
asset_chouki   0.21419
asset_tv       0.00008
asset_refrig   0.72149
asset_bike     0.60228
asset_moto     0.20726
asset_sewmach  0.48419
asset_mobile   0.72721


Covariates selected (P<0.2):
                P-value
counter    1.418090e-03
birthord   6.311270e-02
month      3.125766e-07
hfiacat    6.022160e-02
aged       7.112958e-12
momedu     7.847670e-03
Nlt18      2.872012e-02
Ncomp      5.307016e-02
asset_khat 7.076327e-02
asset_tv   8.085177e-05

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2455589 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.02700131 
	   SL.glmnet_All    0.7274398 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.036981
   Estimated Variance:  0.00060755
              p-value:  0.13353
    95% Conf Interval: (-0.01133, 0.085293) 

 Relative Risk
   Parameter Estimate:  1.0937
              p-value:  0.13746
    95% Conf Interval: (0.97179, 1.2308) 

              log(RR):  0.08954
    variance(log(RR)):  0.0036341 

 Odds Ratio
   Parameter Estimate:  1.1649
              p-value:  0.13476
    95% Conf Interval: (0.95372, 1.4227) 

              log(OR):  0.15259
    variance(log(OR)):  0.01041 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 6 observations dropped due to missing
values in one or more variables
  Final sample size: 1827 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00155
birthord       0.06637
month          0.00000
hfiacat        0.10756
aged           0.00000
sex            0.01320
momage         0.19357
momheight      0.84329
momedu         0.14842
Nlt18          0.00241
Ncomp          0.00002
watmin         0.70656
walls          0.30055
floor          0.41283
elec           0.23056
asset_wardrobe 0.97946
asset_table    0.60466
asset_chair    0.61450
asset_khat     0.36097
asset_chouki   0.57128
asset_tv       0.01474
asset_refrig   0.86544
asset_bike     0.11486
asset_moto     0.39054
asset_sewmach  0.30534
asset_mobile   0.58659


Covariates selected (P<0.2):
                P-value
counter    1.547185e-03
birthord   6.637437e-02
month      2.661842e-14
hfiacat    1.075593e-01
aged       2.032525e-15
sex        1.320151e-02
momage     1.935722e-01
momedu     1.484170e-01
Nlt18      2.406364e-03
Ncomp      2.235262e-05
asset_tv   1.473571e-02
asset_bike 1.148581e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1122563 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.8877437 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.7897205 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.2102795 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0085791
   Estimated Variance:  0.00060756
              p-value:  0.7278
    95% Conf Interval: (-0.056891, 0.039732) 

 Relative Risk
   Parameter Estimate:  0.98036
              p-value:  0.72818
    95% Conf Interval: (0.87659, 1.0964) 

              log(RR):  -0.019839
    variance(log(RR)):  0.0032584 

 Odds Ratio
   Parameter Estimate:  0.96565
              p-value:  0.7279
    95% Conf Interval: (0.79305, 1.1758) 

              log(OR):  -0.034955
    variance(log(OR)):  0.010094 

-----------------------------------------
> 
> al_rr_h2_adj_j=format.tmle(est.al.h2,family="binomial")$rr
> al_rd_h2_adj_j=format.tmle(est.al.h2,family="binomial")$rd
> 
> hw_rr_h2_adj_j=format.tmle(est.hw.h2,family="binomial")$rr
> hw_rd_h2_adj_j=format.tmle(est.hw.h2,family="binomial")$rd
> 
> tt_rr_h2_adj_j=format.tmle(est.tt.h2,family="binomial")$rr
> tt_rd_h2_adj_j=format.tmle(est.tt.h2,family="binomial")$rd
> 
> sth_rr_h2_adj_j=format.tmle(est.sth.h2,family="binomial")$rr
> sth_rd_h2_adj_j=format.tmle(est.sth.h2,family="binomial")$rd
> 
> rownames(al_rr_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> rownames(hw_rr_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> rownames(tt_rr_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> rownames(sth_rr_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> 
> rownames(al_rd_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> rownames(hw_rd_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> rownames(tt_rd_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> rownames(sth_rd_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> 
> #----------------------------------------------
> # H3: Unadjusted prevalence ratios; combined WSH Nvs. 
> # single arms.  PR, CI, P-value
> #----------------------------------------------
> trlist=c("WSH","Nutrition")
> 
> est.al.h3=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$al,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"Nutrition + WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 14 observations dropped due to missing
values in one or more variables
  Final sample size: 1810 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.18068
birthord       0.98332
month          0.00000
hfiacat        0.12098
aged           0.00000
sex            0.82120
momage         0.66344
momheight      0.79065
momedu         0.04200
Nlt18          0.05542
Ncomp          0.07214
watmin         0.32238
walls          0.42651
floor          0.02815
elec           0.46913
asset_wardrobe 0.97577
asset_table    0.24602
asset_chair    0.26123
asset_khat     0.16648
asset_chouki   0.01050
asset_tv       0.13016
asset_refrig   0.83797
asset_bike     0.38706
asset_moto     0.25510
asset_sewmach  0.41252
asset_mobile   0.06151


Covariates selected (P<0.2):
                  P-value
counter      1.806828e-01
month        9.269490e-09
hfiacat      1.209775e-01
aged         2.755784e-08
momedu       4.199629e-02
Nlt18        5.541629e-02
Ncomp        7.213676e-02
floor        2.815280e-02
asset_khat   1.664826e-01
asset_chouki 1.050400e-02
asset_tv     1.301554e-01
asset_mobile 6.151151e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2444034 
	      SL.glm_All    0.04995073 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.4751206 
	   SL.glmnet_All    0.2305252 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.00084771
   Estimated Variance:  0.0005567
              p-value:  0.97134
    95% Conf Interval: (-0.047093, 0.045398) 

 Relative Risk
   Parameter Estimate:  0.99768
              p-value:  0.97133
    95% Conf Interval: (0.87921, 1.1321) 

              log(RR):  -0.0023178
    variance(log(RR)):  0.0041602 

 Odds Ratio
   Parameter Estimate:  0.99635
              p-value:  0.97134
    95% Conf Interval: (0.81628, 1.2161) 

              log(OR):  -0.0036543
    variance(log(OR)):  0.010344 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 18 observations dropped due to missing
values in one or more variables
  Final sample size: 1752 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.12234
birthord       0.74375
month          0.00000
hfiacat        0.05254
aged           0.00000
sex            0.71365
momage         0.44448
momheight      0.62260
momedu         0.32804
Nlt18          0.16810
Ncomp          0.56277
watmin         0.34823
walls          0.33311
floor          0.06454
elec           0.69874
asset_wardrobe 0.03084
asset_table    0.76246
asset_chair    0.61962
asset_khat     0.07914
asset_chouki   0.17663
asset_tv       0.64684
asset_refrig   0.48343
asset_bike     0.39021
asset_moto     0.11788
asset_sewmach  0.90146
asset_mobile   0.39925


Covariates selected (P<0.2):
                    P-value
counter        1.223449e-01
month          1.268692e-08
hfiacat        5.253978e-02
aged           2.782384e-08
Nlt18          1.680971e-01
floor          6.454388e-02
asset_wardrobe 3.083775e-02
asset_khat     7.913769e-02
asset_chouki   1.766303e-01
asset_moto     1.178823e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.03318379 
	   SL.glmnet_All    0.9668162 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.9352462 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.06475383 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.010305
   Estimated Variance:  0.00051598
              p-value:  0.65006
    95% Conf Interval: (-0.034216, 0.054827) 

 Relative Risk
   Parameter Estimate:  1.0291
              p-value:  0.65082
    95% Conf Interval: (0.90892, 1.1652) 

              log(RR):  0.028676
    variance(log(RR)):  0.004014 

 Odds Ratio
   Parameter Estimate:  1.0458
              p-value:  0.6504
    95% Conf Interval: (0.86172, 1.2692) 

              log(OR):  0.044763
    variance(log(OR)):  0.0097552 

-----------------------------------------
> 
> est.hw.h3=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$hw,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"Nutrition + WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 14 observations dropped due to missing
values in one or more variables
  Final sample size: 1810 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.00041
birthord       0.00058
month          0.00000
hfiacat        0.00413
aged           0.00000
sex            0.00312
momage         0.32615
momheight      0.48734
momedu         0.00001
Nlt18          0.00900
Ncomp          0.07339
watmin         0.37644
walls          0.02545
floor          0.00001
elec           0.00001
asset_wardrobe 0.01273
asset_table    0.02856
asset_chair    0.00413
asset_khat     0.00017
asset_chouki   0.00183
asset_tv       0.00000
asset_refrig   0.00000
asset_bike     0.04446
asset_moto     0.00333
asset_sewmach  0.05580
asset_mobile   0.35608


Covariates selected (P<0.2):
                    P-value
counter        4.079757e-04
birthord       5.800999e-04
month          4.024550e-06
hfiacat        4.127489e-03
aged           9.200534e-07
sex            3.121774e-03
momedu         7.269165e-06
Nlt18          8.997241e-03
Ncomp          7.339186e-02
walls          2.544923e-02
floor          1.057681e-05
elec           1.499564e-05
asset_wardrobe 1.272928e-02
asset_table    2.855920e-02
asset_chair    4.126985e-03
asset_khat     1.707643e-04
asset_chouki   1.834521e-03
asset_tv       4.681651e-08
asset_refrig   1.557860e-06
asset_bike     4.445976e-02
asset_moto     3.332528e-03
asset_sewmach  5.579846e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2369337 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.3988129 
	   SL.glmnet_All    0.3642535 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.026445
   Estimated Variance:  0.00020373
              p-value:  0.063918
    95% Conf Interval: (-0.054421, 0.0015307) 

 Relative Risk
   Parameter Estimate:  0.72007
              p-value:  0.060691
    95% Conf Interval: (0.5109, 1.0149) 

              log(RR):  -0.32841
    variance(log(RR)):  0.030654 

 Odds Ratio
   Parameter Estimate:  0.69964
              p-value:  0.060577
    95% Conf Interval: (0.48178, 1.016) 

              log(OR):  -0.3572
    variance(log(OR)):  0.036231 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 18 observations dropped due to missing
values in one or more variables
  Final sample size: 1752 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.01319
birthord       0.00009
month          0.00183
hfiacat        0.00029
aged           0.00008
sex            0.00076
momage         0.75575
momheight      0.11276
momedu         0.00092
Nlt18          0.21027
Ncomp          0.38040
watmin         0.76188
walls          0.06450
floor          0.03169
elec           0.00000
asset_wardrobe 0.02565
asset_table    0.03430
asset_chair    0.13451
asset_khat     0.00161
asset_chouki   0.01600
asset_tv       0.00522
asset_refrig   0.00002
asset_bike     0.00030
asset_moto     0.00582
asset_sewmach  0.10793
asset_mobile   0.02886


Covariates selected (P<0.2):
                    P-value
counter        1.318852e-02
birthord       9.140063e-05
month          1.832507e-03
hfiacat        2.864651e-04
aged           7.880555e-05
sex            7.595735e-04
momheight      1.127602e-01
momedu         9.177500e-04
walls          6.450357e-02
floor          3.169262e-02
elec           1.706495e-06
asset_wardrobe 2.564860e-02
asset_table    3.429504e-02
asset_chair    1.345066e-01
asset_khat     1.614678e-03
asset_chouki   1.600407e-02
asset_tv       5.219091e-03
asset_refrig   1.619796e-05
asset_bike     2.993282e-04
asset_moto     5.821076e-03
asset_sewmach  1.079288e-01
asset_mobile   2.886078e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.151403 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.2894003 
	   SL.glmnet_All    0.5591967 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.9027418 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.09725816 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.00052777
   Estimated Variance:  0.00014632
              p-value:  0.9652
    95% Conf Interval: (-0.023181, 0.024236) 

 Relative Risk
   Parameter Estimate:  1.0076
              p-value:  0.96521
    95% Conf Interval: (0.71695, 1.4161) 

              log(RR):  0.0075736
    variance(log(RR)):  0.030148 

 Odds Ratio
   Parameter Estimate:  1.0082
              p-value:  0.96521
    95% Conf Interval: (0.69931, 1.4535) 

              log(OR):  0.0081409
    variance(log(OR)):  0.034832 

-----------------------------------------
> 
> est.tt.h3=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$tt,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"Nutrition + WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 14 observations dropped due to missing
values in one or more variables
  Final sample size: 1810 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.03038
birthord       0.00036
month          0.00000
hfiacat        0.00551
aged           0.00432
sex            0.16277
momage         0.69719
momheight      0.84552
momedu         0.00000
Nlt18          0.06370
Ncomp          0.00043
watmin         0.67979
walls          0.01683
floor          0.00517
elec           0.06449
asset_wardrobe 0.01023
asset_table    0.05134
asset_chair    0.00000
asset_khat     0.00041
asset_chouki   0.00853
asset_tv       0.00280
asset_refrig   0.05381
asset_bike     0.19736
asset_moto     0.00092
asset_sewmach  0.16823
asset_mobile   0.10580


Covariates selected (P<0.2):
                    P-value
counter        3.038468e-02
birthord       3.571140e-04
month          4.969594e-11
hfiacat        5.511985e-03
aged           4.315756e-03
sex            1.627728e-01
momedu         1.112655e-06
Nlt18          6.370318e-02
Ncomp          4.326682e-04
walls          1.682908e-02
floor          5.171839e-03
elec           6.449030e-02
asset_wardrobe 1.022779e-02
asset_table    5.134467e-02
asset_chair    1.396704e-07
asset_khat     4.149451e-04
asset_chouki   8.533235e-03
asset_tv       2.797286e-03
asset_refrig   5.380775e-02
asset_bike     1.973596e-01
asset_moto     9.190281e-04
asset_sewmach  1.682254e-01
asset_mobile   1.058006e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.5076799 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.1971984 
	      SL.gam_All    0.06567428 
	   SL.glmnet_All    0.2294474 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0037086
   Estimated Variance:  0.0002396
              p-value:  0.81065
    95% Conf Interval: (-0.034047, 0.02663) 

 Relative Risk
   Parameter Estimate:  0.95349
              p-value:  0.80938
    95% Conf Interval: (0.64751, 1.4041) 

              log(RR):  -0.04763
    variance(log(RR)):  0.038984 

 Odds Ratio
   Parameter Estimate:  0.94966
              p-value:  0.80948
    95% Conf Interval: (0.62404, 1.4452) 

              log(OR):  -0.051652
    variance(log(OR)):  0.045895 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 18 observations dropped due to missing
values in one or more variables
  Final sample size: 1752 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.74404
birthord       0.00473
month          0.00000
hfiacat        0.04104
aged           0.00123
sex            0.68022
momage         0.40322
momheight      0.22900
momedu         0.00006
Nlt18          0.98252
Ncomp          0.52946
watmin         0.08740
walls          0.19617
floor          0.03610
elec           0.00694
asset_wardrobe 0.03116
asset_table    0.02519
asset_chair    0.00012
asset_khat     0.00594
asset_chouki   0.18248
asset_tv       0.02562
asset_refrig   0.02150
asset_bike     0.01694
asset_moto     0.00662
asset_sewmach  0.54988
asset_mobile   0.01199


Covariates selected (P<0.2):
                    P-value
birthord       4.727497e-03
month          2.594455e-06
hfiacat        4.104206e-02
aged           1.231780e-03
momedu         5.709214e-05
watmin         8.740204e-02
walls          1.961688e-01
floor          3.609641e-02
elec           6.935568e-03
asset_wardrobe 3.116334e-02
asset_table    2.518879e-02
asset_chair    1.160612e-04
asset_khat     5.944633e-03
asset_chouki   1.824800e-01
asset_tv       2.562265e-02
asset_refrig   2.150002e-02
asset_bike     1.694273e-02
asset_moto     6.618129e-03
asset_mobile   1.198799e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.6208831 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.3791169 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.9351831 
	      SL.glm_All    0.06481688 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.01599
   Estimated Variance:  0.00017887
              p-value:  0.23186
    95% Conf Interval: (-0.010224, 0.042204) 

 Relative Risk
   Parameter Estimate:  1.2645
              p-value:  0.23598
    95% Conf Interval: (0.85775, 1.8641) 

              log(RR):  0.23467
    variance(log(RR)):  0.039212 

 Odds Ratio
   Parameter Estimate:  1.2864
              p-value:  0.23525
    95% Conf Interval: (0.84873, 1.9497) 

              log(OR):  0.25184
    variance(log(OR)):  0.045017 

-----------------------------------------
> 
> est.sth.h3=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$sth,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"Nutrition + WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 14 observations dropped due to missing
values in one or more variables
  Final sample size: 1810 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.01024
birthord       0.20713
month          0.00000
hfiacat        0.04497
aged           0.00000
sex            0.49968
momage         0.48192
momheight      0.54593
momedu         0.00188
Nlt18          0.06884
Ncomp          0.01335
watmin         0.61466
walls          0.09100
floor          0.00092
elec           0.12376
asset_wardrobe 0.19124
asset_table    0.76644
asset_chair    0.37325
asset_khat     0.02565
asset_chouki   0.00555
asset_tv       0.00178
asset_refrig   0.32221
asset_bike     0.11223
asset_moto     0.94438
asset_sewmach  0.88112
asset_mobile   0.66222


Covariates selected (P<0.2):
                    P-value
counter        1.024411e-02
month          7.405642e-11
hfiacat        4.496862e-02
aged           9.234774e-12
momedu         1.877489e-03
Nlt18          6.883691e-02
Ncomp          1.334630e-02
walls          9.099690e-02
floor          9.195621e-04
elec           1.237613e-01
asset_wardrobe 1.912414e-01
asset_khat     2.565059e-02
asset_chouki   5.550449e-03
asset_tv       1.782022e-03
asset_bike     1.122330e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.09849849 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1232444 
	   SL.glmnet_All    0.7782571 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.0061531
   Estimated Variance:  0.00067657
              p-value:  0.813
    95% Conf Interval: (-0.044828, 0.057135) 

 Relative Risk
   Parameter Estimate:  1.0144
              p-value:  0.8132
    95% Conf Interval: (0.90097, 1.1421) 

              log(RR):  0.014297
    variance(log(RR)):  0.0036605 

 Odds Ratio
   Parameter Estimate:  1.0254
              p-value:  0.81305
    95% Conf Interval: (0.83284, 1.2625) 

              log(OR):  0.025099
    variance(log(OR)):  0.011264 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 18 observations dropped due to missing
values in one or more variables
  Final sample size: 1752 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
counter        0.02077
birthord       0.47558
month          0.00000
hfiacat        0.00057
aged           0.00000
sex            0.92387
momage         0.21690
momheight      0.67018
momedu         0.01353
Nlt18          0.19761
Ncomp          0.66596
watmin         0.13656
walls          0.13224
floor          0.00733
elec           0.23538
asset_wardrobe 0.00064
asset_table    0.15035
asset_chair    0.13370
asset_khat     0.02013
asset_chouki   0.13055
asset_tv       0.26778
asset_refrig   0.06118
asset_bike     0.07980
asset_moto     0.01289
asset_sewmach  0.53569
asset_mobile   0.29708


Covariates selected (P<0.2):
                    P-value
counter        2.077400e-02
month          4.460213e-12
hfiacat        5.678818e-04
aged           3.801423e-12
momedu         1.353269e-02
Nlt18          1.976051e-01
watmin         1.365612e-01
walls          1.322354e-01
floor          7.331903e-03
asset_wardrobe 6.361579e-04
asset_table    1.503519e-01
asset_chair    1.336997e-01
asset_khat     2.012893e-02
asset_chouki   1.305467e-01
asset_refrig   6.117588e-02
asset_bike     7.980274e-02
asset_moto     1.289124e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1416234 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.4476637 
	   SL.glmnet_All    0.4107129 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.998292 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.001708002 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.034287
   Estimated Variance:  0.00052918
              p-value:  0.1361
    95% Conf Interval: (-0.010801, 0.079374) 

 Relative Risk
   Parameter Estimate:  1.0857
              p-value:  0.13697
    95% Conf Interval: (0.9742, 1.2099) 

              log(RR):  0.0822
    variance(log(RR)):  0.0030551 

 Odds Ratio
   Parameter Estimate:  1.1515
              p-value:  0.13642
    95% Conf Interval: (0.95639, 1.3864) 

              log(OR):  0.14106
    variance(log(OR)):  0.0089722 

-----------------------------------------
> 
> al_rr_h3_adj_j=format.tmle(est.al.h3,family="binomial")$rr
> al_rd_h3_adj_j=format.tmle(est.al.h3,family="binomial")$rd
> 
> hw_rr_h3_adj_j=format.tmle(est.hw.h3,family="binomial")$rr
> hw_rd_h3_adj_j=format.tmle(est.hw.h3,family="binomial")$rd
> 
> tt_rr_h3_adj_j=format.tmle(est.tt.h3,family="binomial")$rr
> tt_rd_h3_adj_j=format.tmle(est.tt.h3,family="binomial")$rd
> 
> sth_rr_h3_adj_j=format.tmle(est.sth.h3,family="binomial")$rr
> sth_rd_h3_adj_j=format.tmle(est.sth.h3,family="binomial")$rd
> 
> rownames(al_rr_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> rownames(hw_rr_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> rownames(tt_rr_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> rownames(sth_rr_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> 
> rownames(al_rd_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> rownames(hw_rd_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> rownames(tt_rd_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> rownames(sth_rd_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> 
> #----------------------------------------------
> # save objects
> #----------------------------------------------
> 
> save(al_rr_h1_adj_j,hw_rr_h1_adj_j,tt_rr_h1_adj_j,sth_rr_h1_adj_j,
+      al_rd_h1_adj_j,hw_rd_h1_adj_j,tt_rd_h1_adj_j,sth_rd_h1_adj_j,
+ 
+      al_rr_h2_adj_j,hw_rr_h2_adj_j,tt_rr_h2_adj_j,sth_rr_h2_adj_j,
+      al_rd_h2_adj_j,hw_rd_h2_adj_j,tt_rd_h2_adj_j,sth_rd_h2_adj_j,
+ 
+      al_rr_h3_adj_j,hw_rr_h3_adj_j,tt_rr_h3_adj_j,sth_rr_h3_adj_j,
+      al_rd_h3_adj_j,hw_rd_h3_adj_j,tt_rd_h3_adj_j,sth_rd_h3_adj_j,
+      
+      file="~/Dropbox/WASHB Parasites/Results/Jade/sth_pr_adj.RData")
> 
> 
> 
> proc.time()
   user  system elapsed 
549.963  11.166 571.011 
