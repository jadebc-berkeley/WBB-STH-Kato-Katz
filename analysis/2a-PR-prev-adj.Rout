
R version 3.2.3 (2015-12-10) -- "Wooden Christmas-Tree"
Copyright (C) 2015 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin13.4.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> ##############################################
> # WASH Benefits Bangladesh STH Kato-Katz Study
> # Primary outcome analysis  
> 
> # STH adjusted analysis
> 
> # by Jade
> ##############################################
> library(devtools)
Warning message:
package ‘devtools’ was built under R version 3.2.5 
> library(washb)
Welcome to the washb package
Version: 0.2.0
Created on 2016-10-12

The package's reference manual and vignette are also online:
https://ben-arnold.github.io/washb

> 
> rm(list=ls())
> data=read.csv("~/Dropbox/WASHB Parasites/Analysis datasets/Jade/sth.csv")
> source("~/documents/crg/wash-benefits/bangladesh/src/sth/analysis/0-base-programs.R")
> 
> d=preprocess.sth(data)
> 
> d$block=as.factor(d$block)
> 
> W=c("month","hfias","aged","sex","momage","momheight","momedu",
+     "Nlt18","Ncomp","watmin","roof","walls","floor",
+     "elec","asset_wardrobe","n_asset_table","n_asset_chair","asset_khat","asset_chouki",
+     "asset_tv","asset_refrig","asset_bike","asset_moto","asset_sewmach","asset_mobile")
> 
> dW=d[,c("block","tr","clusterid","sth","al","hw","tt",W)]
> 
> #----------------------------------------------
> # H1: Unadjusted prevalence ratios; each arm vs. 
> # control. PR, CI, P-value
> #----------------------------------------------
> trlist=c("Water","Sanitation","Handwashing",
+          "WSH","Nutrition","Nutrition + WSH")
> 
> SL.library=c("SL.mean","SL.glm","SL.bayesglm","SL.gam","SL.glmnet")
> 
> est.al.h1=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$al,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c("Control",x),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))
Loading required package: tmle
Loading required package: SuperLearner
Loading required package: nnls
Super Learner
Version: 2.0-19
Package created on 2016-02-02

Welcome to the tmle package, version 1.2.0-2

Use tmleNews() to see details on changes and bug fixes

Attaching package: ‘tmle’

The following object is masked from ‘package:SuperLearner’:

    SL.glm.interaction


----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   2710 
N after dropping incomplete blocks:  2688 

Total of 22 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 57 observations dropped due to missing
values in one or more variables
  Final sample size: 2631 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------
Loading required package: lmtest
Loading required package: zoo

Attaching package: ‘zoo’

The following objects are masked from ‘package:base’:

    as.Date, as.Date.numeric


Likelihood Ratio Test P-values:
               P-value
month          0.01044
hfias          0.71283
aged           0.00000
sex            0.96678
momage         0.01077
momheight      0.36802
momedu         0.18045
Nlt18          0.46350
Ncomp          0.05536
watmin         0.39034
roof           0.29336
walls          0.07208
floor          0.98049
elec           0.78952
asset_wardrobe 0.11889
n_asset_table  0.97547
n_asset_chair  0.74565
asset_khat     0.37991
asset_chouki   0.91815
asset_tv       0.47175
asset_refrig   0.10450
asset_bike     0.02311
asset_moto     0.99712
asset_sewmach  0.06846
asset_mobile   0.81463


Covariates selected (P<0.2):
                    P-value
month          1.044272e-02
aged           7.124452e-08
momage         1.077251e-02
momedu         1.804537e-01
Ncomp          5.535687e-02
walls          7.208263e-02
asset_wardrobe 1.188943e-01
asset_refrig   1.044995e-01
asset_bike     2.310530e-02
asset_sewmach  6.846265e-02

-----------------------------------------
Loading required package: arm
Loading required package: MASS
Loading required package: Matrix
Loading required package: lme4

arm (Version 1.8-6, built: 2015-7-7)

Working directory is /Users/jadederong/Documents/CRG/wash-benefits/bangladesh/src/sth/analysis

Loading required package: gam
Loading required package: splines
Loading required package: foreach
Loaded gam 1.12

Loading required package: glmnet
Loaded glmnet 2.0-2


-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1244789 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.8755211 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.7412436 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.2587564 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.028529
   Estimated Variance:  0.00042953
              p-value:  0.16865
    95% Conf Interval: (-0.06915, 0.012092) 

 Relative Risk
   Parameter Estimate:  0.92474
              p-value:  0.17595
    95% Conf Interval: (0.82567, 1.0357) 

              log(RR):  -0.078244
    variance(log(RR)):  0.0033427 

 Odds Ratio
   Parameter Estimate:  0.88412
              p-value:  0.17168
    95% Conf Interval: (0.74098, 1.0549) 

              log(OR):  -0.12316
    variance(log(OR)):  0.0081199 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 56 observations dropped due to missing
values in one or more variables
  Final sample size: 2645 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00142
hfias          0.66442
aged           0.00000
sex            0.74897
momage         0.00505
momheight      0.55440
momedu         0.21125
Nlt18          0.60620
Ncomp          0.94825
watmin         0.42850
roof           0.56886
walls          0.05180
floor          0.14345
elec           0.74278
asset_wardrobe 0.26307
n_asset_table  0.17880
n_asset_chair  0.55014
asset_khat     0.33533
asset_chouki   0.18890
asset_tv       0.34863
asset_refrig   0.74157
asset_bike     0.35755
asset_moto     0.87813
asset_sewmach  0.22813
asset_mobile   0.66945


Covariates selected (P<0.2):
                   P-value
month         1.423793e-03
aged          8.537003e-07
momage        5.048829e-03
walls         5.180419e-02
floor         1.434520e-01
n_asset_table 1.788005e-01
asset_chouki  1.888991e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2620907 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.7379093 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.5408001 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.4591999 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.034405
   Estimated Variance:  0.00050934
              p-value:  0.12739
    95% Conf Interval: (-0.078639, 0.0098294) 

 Relative Risk
   Parameter Estimate:  0.9096
              p-value:  0.13462
    95% Conf Interval: (0.80342, 1.0298) 

              log(RR):  -0.094753
    variance(log(RR)):  0.0040109 

 Odds Ratio
   Parameter Estimate:  0.86173
              p-value:  0.13043
    95% Conf Interval: (0.71059, 1.045) 

              log(OR):  -0.14881
    variance(log(OR)):  0.009681 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 60 observations dropped due to missing
values in one or more variables
  Final sample size: 2690 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.04724
hfias          0.24487
aged           0.00000
sex            0.65351
momage         0.00280
momheight      0.88091
momedu         0.40016
Nlt18          0.37171
Ncomp          0.06956
watmin         0.48896
roof           0.23133
walls          0.09305
floor          0.48102
elec           0.25986
asset_wardrobe 0.20295
n_asset_table  0.82305
n_asset_chair  0.48006
asset_khat     0.10805
asset_chouki   0.08236
asset_tv       0.59980
asset_refrig   0.48794
asset_bike     0.78884
asset_moto     0.86355
asset_sewmach  0.17674
asset_mobile   0.46384


Covariates selected (P<0.2):
                   P-value
month         4.723665e-02
aged          4.328161e-10
momage        2.802287e-03
Ncomp         6.955926e-02
walls         9.304901e-02
asset_khat    1.080474e-01
asset_chouki  8.235543e-02
asset_sewmach 1.767373e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2958762 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.7041238 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.0022124
   Estimated Variance:  0.00050123
              p-value:  0.92128
    95% Conf Interval: (-0.041668, 0.046093) 

 Relative Risk
   Parameter Estimate:  1.0058
              p-value:  0.9212
    95% Conf Interval: (0.89709, 1.1277) 

              log(RR):  0.0057726
    variance(log(RR)):  0.0034051 

 Odds Ratio
   Parameter Estimate:  1.0094
              p-value:  0.92125
    95% Conf Interval: (0.83844, 1.2152) 

              log(OR):  0.0093598
    variance(log(OR)):  0.0089639 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 59 observations dropped due to missing
values in one or more variables
  Final sample size: 2678 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.01187
hfias          0.95227
aged           0.00000
sex            0.85684
momage         0.00936
momheight      0.55095
momedu         0.03920
Nlt18          0.05985
Ncomp          0.00499
watmin         0.38005
roof           0.12680
walls          0.46545
floor          0.40589
elec           0.52045
asset_wardrobe 0.11558
n_asset_table  0.68996
n_asset_chair  0.67973
asset_khat     0.31634
asset_chouki   0.71481
asset_tv       0.42885
asset_refrig   0.05816
asset_bike     0.12943
asset_moto     0.62643
asset_sewmach  0.48848
asset_mobile   0.25907


Covariates selected (P<0.2):
                    P-value
month          1.186887e-02
aged           9.153601e-10
momage         9.356051e-03
momedu         3.920304e-02
Nlt18          5.985303e-02
Ncomp          4.993632e-03
roof           1.268042e-01
asset_wardrobe 1.155791e-01
asset_refrig   5.816002e-02
asset_bike     1.294264e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.367018 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.632982 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.011963
   Estimated Variance:  0.00045949
              p-value:  0.57677
    95% Conf Interval: (-0.053977, 0.03005) 

 Relative Risk
   Parameter Estimate:  0.96867
              p-value:  0.57844
    95% Conf Interval: (0.8658, 1.0838) 

              log(RR):  -0.03183
    variance(log(RR)):  0.0032814 

 Odds Ratio
   Parameter Estimate:  0.95028
              p-value:  0.57743
    95% Conf Interval: (0.79421, 1.137) 

              log(OR):  -0.050999
    variance(log(OR)):  0.0083791 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 67 observations dropped due to missing
values in one or more variables
  Final sample size: 2616 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.11941
hfias          0.13567
aged           0.00000
sex            0.46216
momage         0.05579
momheight      0.95195
momedu         0.38442
Nlt18          0.46462
Ncomp          0.49288
watmin         0.92367
roof           0.10703
walls          0.34298
floor          0.59736
elec           0.87928
asset_wardrobe 0.00047
n_asset_table  0.09330
n_asset_chair  0.21806
asset_khat     0.47900
asset_chouki   0.21911
asset_tv       0.90133
asset_refrig   0.00479
asset_bike     0.10663
asset_moto     0.09224
asset_sewmach  0.73300
asset_mobile   0.85136


Covariates selected (P<0.2):
                    P-value
month          1.194139e-01
hfias          1.356673e-01
aged           1.058602e-09
momage         5.578700e-02
roof           1.070297e-01
asset_wardrobe 4.691031e-04
n_asset_table  9.329626e-02
asset_refrig   4.785194e-03
asset_bike     1.066349e-01
asset_moto     9.224040e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.3102188 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.6897812 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.2833902 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.7166098 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.029852
   Estimated Variance:  0.00048334
              p-value:  0.17452
    95% Conf Interval: (-0.072942, 0.013239) 

 Relative Risk
   Parameter Estimate:  0.9217
              p-value:  0.17735
    95% Conf Interval: (0.81874, 1.0376) 

              log(RR):  -0.081531
    variance(log(RR)):  0.003653 

 Odds Ratio
   Parameter Estimate:  0.87928
              p-value:  0.17568
    95% Conf Interval: (0.7299, 1.0592) 

              log(OR):  -0.12865
    variance(log(OR)):  0.0090252 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 69 observations dropped due to missing
values in one or more variables
  Final sample size: 2672 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.08916
hfias          0.21213
aged           0.00000
sex            0.63203
momage         0.00776
momheight      0.95131
momedu         0.02622
Nlt18          0.18324
Ncomp          0.36249
watmin         0.40247
roof           0.25669
walls          0.04703
floor          0.34555
elec           0.27120
asset_wardrobe 0.10767
n_asset_table  0.25769
n_asset_chair  0.25943
asset_khat     0.90102
asset_chouki   0.81368
asset_tv       0.51100
asset_refrig   0.54273
asset_bike     0.78045
asset_moto     0.73546
asset_sewmach  0.60161
asset_mobile   0.42608


Covariates selected (P<0.2):
                    P-value
month          8.915576e-02
aged           9.378668e-09
momage         7.757505e-03
momedu         2.622279e-02
Nlt18          1.832389e-01
walls          4.703142e-02
asset_wardrobe 1.076684e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2548121 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.7451879 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8421684 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1578316 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.018813
   Estimated Variance:  0.00039211
              p-value:  0.34208
    95% Conf Interval: (-0.057624, 0.019999) 

 Relative Risk
   Parameter Estimate:  0.95073
              p-value:  0.34367
    95% Conf Interval: (0.85634, 1.0555) 

              log(RR):  -0.05052
    variance(log(RR)):  0.0028463 

 Odds Ratio
   Parameter Estimate:  0.92265
              p-value:  0.34269
    95% Conf Interval: (0.78131, 1.0896) 

              log(OR):  -0.080501
    variance(log(OR)):  0.0071979 

-----------------------------------------
> 
> est.hw.h1=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$hw,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c("Control",x),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   2710 
N after dropping incomplete blocks:  2688 

Total of 22 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 57 observations dropped due to missing
values in one or more variables
  Final sample size: 2631 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00008
hfias          0.03384
aged           0.00000
sex            0.03384
momage         0.00850
momheight      0.23863
momedu         0.00000
Nlt18          0.00172
Ncomp          0.00001
watmin         0.68903
roof           0.53513
walls          0.01691
floor          0.00000
elec           0.00003
asset_wardrobe 0.00013
n_asset_table  0.00000
n_asset_chair  0.00000
asset_khat     0.00066
asset_chouki   0.04131
asset_tv       0.00000
asset_refrig   0.00001
asset_bike     0.35753
asset_moto     0.16386
asset_sewmach  0.01891
asset_mobile   0.00005


Covariates selected (P<0.2):
                    P-value
month          7.951219e-05
hfias          3.383753e-02
aged           5.869241e-15
sex            3.383827e-02
momage         8.496957e-03
momedu         3.040442e-10
Nlt18          1.715124e-03
Ncomp          6.771124e-06
walls          1.691087e-02
floor          1.773332e-06
elec           3.111065e-05
asset_wardrobe 1.259408e-04
n_asset_table  7.772277e-08
n_asset_chair  5.571705e-07
asset_khat     6.565170e-04
asset_chouki   4.131287e-02
asset_tv       1.119897e-07
asset_refrig   1.289190e-05
asset_moto     1.638562e-01
asset_sewmach  1.891156e-02
asset_mobile   5.270335e-05

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1765284 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.5052118 
	      SL.gam_All    0.3182598 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.011565
   Estimated Variance:  0.00010936
              p-value:  0.26875
    95% Conf Interval: (-0.032062, 0.0089312) 

 Relative Risk
   Parameter Estimate:  0.84975
              p-value:  0.28029
    95% Conf Interval: (0.63231, 1.142) 

              log(RR):  -0.16281
    variance(log(RR)):  0.02274 

 Odds Ratio
   Parameter Estimate:  0.83924
              p-value:  0.27923
    95% Conf Interval: (0.61096, 1.1528) 

              log(OR):  -0.17526
    variance(log(OR)):  0.026235 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 56 observations dropped due to missing
values in one or more variables
  Final sample size: 2645 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.02050
aged           0.00000
sex            0.19221
momage         0.00854
momheight      0.77899
momedu         0.00000
Nlt18          0.00060
Ncomp          0.00000
watmin         0.73073
roof           0.26026
walls          0.13125
floor          0.00000
elec           0.00015
asset_wardrobe 0.00174
n_asset_table  0.00000
n_asset_chair  0.00000
asset_khat     0.00002
asset_chouki   0.00503
asset_tv       0.00000
asset_refrig   0.00048
asset_bike     0.41385
asset_moto     0.49662
asset_sewmach  0.01121
asset_mobile   0.00748


Covariates selected (P<0.2):
                    P-value
month          3.237474e-06
hfias          2.049764e-02
aged           8.239349e-19
sex            1.922066e-01
momage         8.539432e-03
momedu         1.623348e-09
Nlt18          6.028552e-04
Ncomp          1.920774e-06
walls          1.312531e-01
floor          1.533770e-06
elec           1.461106e-04
asset_wardrobe 1.742129e-03
n_asset_table  1.796124e-07
n_asset_chair  7.874857e-07
asset_khat     1.805550e-05
asset_chouki   5.029454e-03
asset_tv       1.994517e-07
asset_refrig   4.763899e-04
asset_sewmach  1.121463e-02
asset_mobile   7.482720e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.05188993 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.7021468 
	   SL.glmnet_All    0.2459632 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.5239972 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.1516781 
	      SL.gam_All    0 
	   SL.glmnet_All    0.3243247 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0052961
   Estimated Variance:  0.00013908
              p-value:  0.65337
    95% Conf Interval: (-0.028411, 0.017818) 

 Relative Risk
   Parameter Estimate:  0.93188
              p-value:  0.65924
    95% Conf Interval: (0.68102, 1.2751) 

              log(RR):  -0.070555
    variance(log(RR)):  0.0256 

 Odds Ratio
   Parameter Estimate:  0.92656
              p-value:  0.65874
    95% Conf Interval: (0.66046, 1.2999) 

              log(OR):  -0.076282
    variance(log(OR)):  0.029832 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 60 observations dropped due to missing
values in one or more variables
  Final sample size: 2690 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.06828
aged           0.00000
sex            0.00283
momage         0.00020
momheight      0.22173
momedu         0.00000
Nlt18          0.00000
Ncomp          0.00000
watmin         0.68182
roof           0.84353
walls          0.07369
floor          0.00026
elec           0.00004
asset_wardrobe 0.00115
n_asset_table  0.00000
n_asset_chair  0.00000
asset_khat     0.00000
asset_chouki   0.00122
asset_tv       0.00020
asset_refrig   0.00139
asset_bike     0.23512
asset_moto     0.32634
asset_sewmach  0.00552
asset_mobile   0.00162


Covariates selected (P<0.2):
                    P-value
month          2.344358e-06
hfias          6.828081e-02
aged           3.006071e-19
sex            2.830393e-03
momage         2.019386e-04
momedu         6.233359e-11
Nlt18          2.286679e-07
Ncomp          9.281392e-07
walls          7.369410e-02
floor          2.609422e-04
elec           4.081958e-05
asset_wardrobe 1.150534e-03
n_asset_table  1.184985e-08
n_asset_chair  3.485426e-06
asset_khat     1.099793e-06
asset_chouki   1.215732e-03
asset_tv       1.971256e-04
asset_refrig   1.393148e-03
asset_sewmach  5.519780e-03
asset_mobile   1.617625e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.09113884 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.2987152 
	      SL.gam_All    0.6101459 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.012829
   Estimated Variance:  0.00010737
              p-value:  0.21566
    95% Conf Interval: (-0.0074797, 0.033138) 

 Relative Risk
   Parameter Estimate:  1.1662
              p-value:  0.2063
    95% Conf Interval: (0.91877, 1.4804) 

              log(RR):  0.15378
    variance(log(RR)):  0.014807 

 Odds Ratio
   Parameter Estimate:  1.1827
              p-value:  0.20688
    95% Conf Interval: (0.91141, 1.5347) 

              log(OR):  0.16778
    variance(log(OR)):  0.017671 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 59 observations dropped due to missing
values in one or more variables
  Final sample size: 2678 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.00700
aged           0.00000
sex            0.00849
momage         0.05269
momheight      0.59634
momedu         0.00000
Nlt18          0.00035
Ncomp          0.00000
watmin         0.68319
roof           0.87702
walls          0.00170
floor          0.00000
elec           0.00003
asset_wardrobe 0.00053
n_asset_table  0.00000
n_asset_chair  0.00000
asset_khat     0.00001
asset_chouki   0.00047
asset_tv       0.00000
asset_refrig   0.00001
asset_bike     0.55922
asset_moto     0.11402
asset_sewmach  0.00586
asset_mobile   0.05072


Covariates selected (P<0.2):
                    P-value
month          1.463870e-06
hfias          6.997676e-03
aged           1.726060e-18
sex            8.486683e-03
momage         5.268686e-02
momedu         4.171946e-08
Nlt18          3.540044e-04
Ncomp          4.411345e-06
walls          1.695882e-03
floor          1.334923e-07
elec           3.216133e-05
asset_wardrobe 5.315497e-04
n_asset_table  2.086304e-07
n_asset_chair  6.805859e-09
asset_khat     7.957467e-06
asset_chouki   4.725798e-04
asset_tv       4.306110e-08
asset_refrig   6.518396e-06
asset_moto     1.140152e-01
asset_sewmach  5.856099e-03
asset_mobile   5.071507e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.07192132 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.9098977 
	   SL.glmnet_All    0.01818101 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.9769098 
	      SL.glm_All    0.02309025 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.013108
   Estimated Variance:  0.00017933
              p-value:  0.32764
    95% Conf Interval: (-0.013139, 0.039356) 

 Relative Risk
   Parameter Estimate:  1.1678
              p-value:  0.31569
    95% Conf Interval: (0.8625, 1.5812) 

              log(RR):  0.15514
    variance(log(RR)):  0.023907 

 Odds Ratio
   Parameter Estimate:  1.1847
              p-value:  0.31666
    95% Conf Interval: (0.85024, 1.6506) 

              log(OR):  0.16946
    variance(log(OR)):  0.028639 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 67 observations dropped due to missing
values in one or more variables
  Final sample size: 2616 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00003
hfias          0.00296
aged           0.00000
sex            0.00221
momage         0.00661
momheight      0.24024
momedu         0.00000
Nlt18          0.01036
Ncomp          0.00012
watmin         0.40553
roof           0.39456
walls          0.00650
floor          0.00031
elec           0.00001
asset_wardrobe 0.00025
n_asset_table  0.00000
n_asset_chair  0.00001
asset_khat     0.00003
asset_chouki   0.00352
asset_tv       0.00046
asset_refrig   0.00004
asset_bike     0.07128
asset_moto     0.08941
asset_sewmach  0.00936
asset_mobile   0.00310


Covariates selected (P<0.2):
                    P-value
month          3.045162e-05
hfias          2.964386e-03
aged           5.633022e-16
sex            2.207895e-03
momage         6.613893e-03
momedu         5.074976e-07
Nlt18          1.036251e-02
Ncomp          1.185486e-04
walls          6.502669e-03
floor          3.054071e-04
elec           5.986256e-06
asset_wardrobe 2.463916e-04
n_asset_table  1.036967e-06
n_asset_chair  1.054737e-05
asset_khat     3.279673e-05
asset_chouki   3.517880e-03
asset_tv       4.647803e-04
asset_refrig   4.323908e-05
asset_bike     7.128438e-02
asset_moto     8.940698e-02
asset_sewmach  9.358321e-03
asset_mobile   3.104140e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1265416 
	      SL.glm_All    0.3861689 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.4872895 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.6460048 
	      SL.glm_All    0.3099348 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.04406036 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0074893
   Estimated Variance:  0.00013016
              p-value:  0.51154
    95% Conf Interval: (-0.029851, 0.014872) 

 Relative Risk
   Parameter Estimate:  0.90344
              p-value:  0.51659
    95% Conf Interval: (0.66473, 1.2279) 

              log(RR):  -0.10154
    variance(log(RR)):  0.024508 

 Odds Ratio
   Parameter Estimate:  0.89617
              p-value:  0.51614
    95% Conf Interval: (0.64369, 1.2477) 

              log(OR):  -0.10963
    variance(log(OR)):  0.028506 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 69 observations dropped due to missing
values in one or more variables
  Final sample size: 2672 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00044
hfias          0.00426
aged           0.00000
sex            0.00298
momage         0.02602
momheight      0.84018
momedu         0.00000
Nlt18          0.00359
Ncomp          0.00008
watmin         0.95032
roof           0.25559
walls          0.00310
floor          0.00001
elec           0.00000
asset_wardrobe 0.00020
n_asset_table  0.00000
n_asset_chair  0.00001
asset_khat     0.00016
asset_chouki   0.00047
asset_tv       0.00001
asset_refrig   0.00006
asset_bike     0.05726
asset_moto     0.07488
asset_sewmach  0.01485
asset_mobile   0.00996


Covariates selected (P<0.2):
                    P-value
month          4.377233e-04
hfias          4.256781e-03
aged           1.182544e-11
sex            2.978792e-03
momage         2.601967e-02
momedu         1.036817e-10
Nlt18          3.586857e-03
Ncomp          7.540146e-05
walls          3.097268e-03
floor          7.046324e-06
elec           6.431234e-08
asset_wardrobe 1.967282e-04
n_asset_table  7.349169e-08
n_asset_chair  6.608662e-06
asset_khat     1.644633e-04
asset_chouki   4.725437e-04
asset_tv       1.177695e-05
asset_refrig   6.337436e-05
asset_bike     5.726301e-02
asset_moto     7.488424e-02
asset_sewmach  1.484753e-02
asset_mobile   9.963780e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1008768 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.3206336 
	      SL.gam_All    0.5784896 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.01083
   Estimated Variance:  0.00012374
              p-value:  0.33028
    95% Conf Interval: (-0.032633, 0.010973) 

 Relative Risk
   Parameter Estimate:  0.86133
              p-value:  0.34538
    95% Conf Interval: (0.63169, 1.1744) 

              log(RR):  -0.14928
    variance(log(RR)):  0.025027 

 Odds Ratio
   Parameter Estimate:  0.85133
              p-value:  0.34406
    95% Conf Interval: (0.60995, 1.1882) 

              log(OR):  -0.16096
    variance(log(OR)):  0.028938 

-----------------------------------------
> 
> est.tt.h1=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$tt,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c("Control",x),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   2710 
N after dropping incomplete blocks:  2688 

Total of 22 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 57 observations dropped due to missing
values in one or more variables
  Final sample size: 2631 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.01448
aged           0.03714
sex            0.11206
momage         0.03348
momheight      0.05631
momedu         0.00003
Nlt18          0.05822
Ncomp          0.00000
watmin         0.84511
roof           0.16300
walls          0.02581
floor          0.00042
elec           0.00002
asset_wardrobe 0.08510
n_asset_table  0.00017
n_asset_chair  0.00022
asset_khat     0.00204
asset_chouki   0.72238
asset_tv       0.00001
asset_refrig   0.00501
asset_bike     0.00814
asset_moto     0.58506
asset_sewmach  0.09399
asset_mobile   0.00091


Covariates selected (P<0.2):
                    P-value
month          2.401159e-10
hfias          1.447825e-02
aged           3.714179e-02
sex            1.120553e-01
momage         3.347560e-02
momheight      5.630720e-02
momedu         2.522808e-05
Nlt18          5.821537e-02
Ncomp          1.428585e-07
roof           1.630040e-01
walls          2.581003e-02
floor          4.226905e-04
elec           2.001097e-05
asset_wardrobe 8.510117e-02
n_asset_table  1.673593e-04
n_asset_chair  2.178923e-04
asset_khat     2.040958e-03
asset_tv       1.019518e-05
asset_refrig   5.010280e-03
asset_bike     8.138270e-03
asset_sewmach  9.398623e-02
asset_mobile   9.141052e-04

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.3660413 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.3737517 
	   SL.glmnet_All    0.260207 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.027813
   Estimated Variance:  0.00013397
              p-value:  0.016263
    95% Conf Interval: (-0.050499, -0.0051271) 

 Relative Risk
   Parameter Estimate:  0.66902
              p-value:  0.020865
    95% Conf Interval: (0.47572, 0.94086) 

              log(RR):  -0.40195
    variance(log(RR)):  0.030266 

 Odds Ratio
   Parameter Estimate:  0.6493
              p-value:  0.020146
    95% Conf Interval: (0.45107, 0.93465) 

              log(OR):  -0.43186
    variance(log(OR)):  0.034542 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 56 observations dropped due to missing
values in one or more variables
  Final sample size: 2645 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.00003
aged           0.00051
sex            0.72454
momage         0.01038
momheight      0.02111
momedu         0.00000
Nlt18          0.05502
Ncomp          0.00000
watmin         0.93497
roof           0.27426
walls          0.00812
floor          0.00066
elec           0.00000
asset_wardrobe 0.07883
n_asset_table  0.00000
n_asset_chair  0.00001
asset_khat     0.02867
asset_chouki   0.91298
asset_tv       0.00000
asset_refrig   0.00188
asset_bike     0.00075
asset_moto     0.15101
asset_sewmach  0.00974
asset_mobile   0.00003


Covariates selected (P<0.2):
                    P-value
month          5.271843e-11
hfias          3.272499e-05
aged           5.143214e-04
momage         1.038014e-02
momheight      2.110889e-02
momedu         3.860713e-06
Nlt18          5.502339e-02
Ncomp          1.609768e-06
walls          8.117436e-03
floor          6.634745e-04
elec           7.438149e-09
asset_wardrobe 7.882721e-02
n_asset_table  1.292066e-07
n_asset_chair  1.166332e-05
asset_khat     2.867034e-02
asset_tv       1.996103e-06
asset_refrig   1.875413e-03
asset_bike     7.488151e-04
asset_moto     1.510131e-01
asset_sewmach  9.742289e-03
asset_mobile   2.653811e-05

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.186858 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.09779128 
	      SL.gam_All    0.2347064 
	   SL.glmnet_All    0.4806443 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.4566888 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.5433112 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.017069
   Estimated Variance:  0.00015568
              p-value:  0.17131
    95% Conf Interval: (-0.041524, 0.0073863) 

 Relative Risk
   Parameter Estimate:  0.79455
              p-value:  0.18342
    95% Conf Interval: (0.5662, 1.115) 

              log(RR):  -0.22997
    variance(log(RR)):  0.029885 

 Odds Ratio
   Parameter Estimate:  0.78003
              p-value:  0.18201
    95% Conf Interval: (0.54159, 1.1235) 

              log(OR):  -0.24842
    variance(log(OR)):  0.034648 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 60 observations dropped due to missing
values in one or more variables
  Final sample size: 2690 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.09918
aged           0.00071
sex            0.16172
momage         0.02795
momheight      0.15692
momedu         0.00043
Nlt18          0.02412
Ncomp          0.00001
watmin         0.89787
roof           0.02422
walls          0.00034
floor          0.00013
elec           0.00000
asset_wardrobe 0.02674
n_asset_table  0.00002
n_asset_chair  0.00003
asset_khat     0.05153
asset_chouki   0.92500
asset_tv       0.00004
asset_refrig   0.00416
asset_bike     0.01449
asset_moto     0.19858
asset_sewmach  0.01480
asset_mobile   0.00022


Covariates selected (P<0.2):
                    P-value
month          1.159831e-10
hfias          9.917982e-02
aged           7.129125e-04
sex            1.617214e-01
momage         2.795469e-02
momheight      1.569158e-01
momedu         4.322263e-04
Nlt18          2.411654e-02
Ncomp          6.303008e-06
roof           2.422422e-02
walls          3.408431e-04
floor          1.331646e-04
elec           3.419333e-06
asset_wardrobe 2.673907e-02
n_asset_table  2.189134e-05
n_asset_chair  3.289647e-05
asset_khat     5.153056e-02
asset_tv       4.175241e-05
asset_refrig   4.162044e-03
asset_bike     1.448786e-02
asset_moto     1.985772e-01
asset_sewmach  1.480196e-02
asset_mobile   2.189928e-04

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2377815 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.28958 
	   SL.glmnet_All    0.4726385 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.031762
   Estimated Variance:  0.000124
              p-value:  0.00434
    95% Conf Interval: (-0.053587, -0.0099364) 

 Relative Risk
   Parameter Estimate:  0.62273
              p-value:  0.0084686
    95% Conf Interval: (0.43769, 0.886) 

              log(RR):  -0.47364
    variance(log(RR)):  0.032364 

 Odds Ratio
   Parameter Estimate:  0.60186
              p-value:  0.0078736
    95% Conf Interval: (0.41387, 0.87524) 

              log(OR):  -0.50773
    variance(log(OR)):  0.036504 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 59 observations dropped due to missing
values in one or more variables
  Final sample size: 2678 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.03384
aged           0.00032
sex            0.50743
momage         0.08073
momheight      0.25365
momedu         0.00000
Nlt18          0.01238
Ncomp          0.00000
watmin         0.92514
roof           0.68762
walls          0.00303
floor          0.00003
elec           0.00019
asset_wardrobe 0.01186
n_asset_table  0.00036
n_asset_chair  0.00004
asset_khat     0.00086
asset_chouki   0.13979
asset_tv       0.00000
asset_refrig   0.00028
asset_bike     0.17860
asset_moto     0.00900
asset_sewmach  0.00043
asset_mobile   0.40953


Covariates selected (P<0.2):
                    P-value
month          6.073911e-14
hfias          3.384058e-02
aged           3.155199e-04
momage         8.072791e-02
momedu         1.709029e-06
Nlt18          1.238290e-02
Ncomp          1.059886e-10
walls          3.033187e-03
floor          2.934208e-05
elec           1.878509e-04
asset_wardrobe 1.185654e-02
n_asset_table  3.643559e-04
n_asset_chair  4.090963e-05
asset_khat     8.552507e-04
asset_chouki   1.397935e-01
asset_tv       3.043029e-07
asset_refrig   2.781111e-04
asset_bike     1.785991e-01
asset_moto     8.996611e-03
asset_sewmach  4.321909e-04

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1938345 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.03961146 
	   SL.glmnet_All    0.766554 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0072818
   Estimated Variance:  0.00017393
              p-value:  0.58085
    95% Conf Interval: (-0.033131, 0.018567) 

 Relative Risk
   Parameter Estimate:  0.9143
              p-value:  0.58845
    95% Conf Interval: (0.66091, 1.2648) 

              log(RR):  -0.089594
    variance(log(RR)):  0.027418 

 Odds Ratio
   Parameter Estimate:  0.90708
              p-value:  0.58773
    95% Conf Interval: (0.63757, 1.2905) 

              log(OR):  -0.097521
    variance(log(OR)):  0.032358 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 67 observations dropped due to missing
values in one or more variables
  Final sample size: 2616 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.03013
aged           0.00011
sex            0.08611
momage         0.08333
momheight      0.06785
momedu         0.00034
Nlt18          0.38740
Ncomp          0.00063
watmin         0.63478
roof           0.00735
walls          0.05517
floor          0.00086
elec           0.00002
asset_wardrobe 0.02408
n_asset_table  0.00001
n_asset_chair  0.00042
asset_khat     0.00462
asset_chouki   0.58567
asset_tv       0.00002
asset_refrig   0.00004
asset_bike     0.01675
asset_moto     0.03563
asset_sewmach  0.00210
asset_mobile   0.11953


Covariates selected (P<0.2):
                    P-value
month          1.607135e-12
hfias          3.013058e-02
aged           1.097442e-04
sex            8.611134e-02
momage         8.333115e-02
momheight      6.784862e-02
momedu         3.418311e-04
Ncomp          6.303805e-04
roof           7.350579e-03
walls          5.516797e-02
floor          8.589865e-04
elec           2.315269e-05
asset_wardrobe 2.408241e-02
n_asset_table  9.726107e-06
n_asset_chair  4.200337e-04
asset_khat     4.617617e-03
asset_tv       1.592350e-05
asset_refrig   3.767016e-05
asset_bike     1.674621e-02
asset_moto     3.562912e-02
asset_sewmach  2.101363e-03
asset_mobile   1.195341e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2320837 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.4205292 
	   SL.glmnet_All    0.347387 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.6437125 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.3562875 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.02696
   Estimated Variance:  0.00016177
              p-value:  0.034038
    95% Conf Interval: (-0.051889, -0.0020303) 

 Relative Risk
   Parameter Estimate:  0.68133
              p-value:  0.04832
    95% Conf Interval: (0.46553, 0.99718) 

              log(RR):  -0.38371
    variance(log(RR)):  0.037763 

 Odds Ratio
   Parameter Estimate:  0.66184
              p-value:  0.046679
    95% Conf Interval: (0.44069, 0.99396) 

              log(OR):  -0.41273
    variance(log(OR)):  0.043051 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 69 observations dropped due to missing
values in one or more variables
  Final sample size: 2672 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.00286
aged           0.00151
sex            0.81519
momage         0.09799
momheight      0.08994
momedu         0.00003
Nlt18          0.13050
Ncomp          0.00124
watmin         0.84382
roof           0.01630
walls          0.00191
floor          0.00162
elec           0.00000
asset_wardrobe 0.00741
n_asset_table  0.00000
n_asset_chair  0.00002
asset_khat     0.00683
asset_chouki   0.46521
asset_tv       0.00001
asset_refrig   0.00293
asset_bike     0.01166
asset_moto     0.03692
asset_sewmach  0.10575
asset_mobile   0.00014


Covariates selected (P<0.2):
                    P-value
month          1.141170e-11
hfias          2.857702e-03
aged           1.506146e-03
momage         9.799318e-02
momheight      8.993566e-02
momedu         3.085089e-05
Nlt18          1.304992e-01
Ncomp          1.236319e-03
roof           1.629901e-02
walls          1.905664e-03
floor          1.619362e-03
elec           8.339483e-07
asset_wardrobe 7.414543e-03
n_asset_table  4.479435e-06
n_asset_chair  2.273599e-05
asset_khat     6.831703e-03
asset_tv       5.841752e-06
asset_refrig   2.933539e-03
asset_bike     1.165894e-02
asset_moto     3.691851e-02
asset_sewmach  1.057493e-01
asset_mobile   1.426223e-04

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2593134 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.4059385 
	   SL.glmnet_All    0.3347481 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.9768943 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.02310572 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.013151
   Estimated Variance:  0.00016942
              p-value:  0.31232
    95% Conf Interval: (-0.038662, 0.01236) 

 Relative Risk
   Parameter Estimate:  0.8458
              p-value:  0.32419
    95% Conf Interval: (0.60628, 1.18) 

              log(RR):  -0.16747
    variance(log(RR)):  0.028856 

 Odds Ratio
   Parameter Estimate:  0.83381
              p-value:  0.32296
    95% Conf Interval: (0.58149, 1.1956) 

              log(OR):  -0.18175
    variance(log(OR)):  0.033812 

-----------------------------------------
> 
> est.sth.h1=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$sth,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c("Control",x),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   2710 
N after dropping incomplete blocks:  2688 

Total of 22 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 57 observations dropped due to missing
values in one or more variables
  Final sample size: 2631 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.75842
hfias          0.38112
aged           0.00000
sex            0.80482
momage         0.00942
momheight      0.61486
momedu         0.01171
Nlt18          0.18248
Ncomp          0.00001
watmin         0.23665
roof           0.11963
walls          0.01406
floor          0.23062
elec           0.14616
asset_wardrobe 0.05183
n_asset_table  0.15561
n_asset_chair  0.25195
asset_khat     0.60596
asset_chouki   0.80441
asset_tv       0.01525
asset_refrig   0.00598
asset_bike     0.45979
asset_moto     0.89950
asset_sewmach  0.36908
asset_mobile   0.05358


Covariates selected (P<0.2):
                    P-value
aged           6.199502e-13
momage         9.422684e-03
momedu         1.171417e-02
Nlt18          1.824777e-01
Ncomp          1.220815e-05
roof           1.196326e-01
walls          1.406174e-02
elec           1.461579e-01
asset_wardrobe 5.182833e-02
n_asset_table  1.556067e-01
asset_tv       1.525188e-02
asset_refrig   5.983347e-03
asset_mobile   5.358275e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.213574 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.786426 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.9026994 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.09730056 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.035427
   Estimated Variance:  0.00049102
              p-value:  0.10988
    95% Conf Interval: (-0.078859, 0.0080049) 

 Relative Risk
   Parameter Estimate:  0.91949
              p-value:  0.11842
    95% Conf Interval: (0.82754, 1.0217) 

              log(RR):  -0.083936
    variance(log(RR)):  0.0028897 

 Odds Ratio
   Parameter Estimate:  0.86478
              p-value:  0.11224
    95% Conf Interval: (0.72284, 1.0346) 

              log(OR):  -0.14528
    variance(log(OR)):  0.0083677 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 56 observations dropped due to missing
values in one or more variables
  Final sample size: 2645 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.76662
hfias          0.02186
aged           0.00000
sex            0.32023
momage         0.00025
momheight      0.50297
momedu         0.00547
Nlt18          0.14402
Ncomp          0.01039
watmin         0.66302
roof           0.24294
walls          0.01084
floor          0.77134
elec           0.05454
asset_wardrobe 0.11615
n_asset_table  0.00184
n_asset_chair  0.02896
asset_khat     0.66839
asset_chouki   0.60820
asset_tv       0.00479
asset_refrig   0.14917
asset_bike     0.62166
asset_moto     0.91325
asset_sewmach  0.66241
asset_mobile   0.03652


Covariates selected (P<0.2):
                    P-value
hfias          2.186209e-02
aged           6.877016e-14
momage         2.519386e-04
momedu         5.465158e-03
Nlt18          1.440176e-01
Ncomp          1.038782e-02
walls          1.083879e-02
elec           5.453792e-02
asset_wardrobe 1.161516e-01
n_asset_table  1.837586e-03
n_asset_chair  2.896141e-02
asset_tv       4.793466e-03
asset_refrig   1.491715e-01
asset_mobile   3.651700e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.123016 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.2138311 
	   SL.glmnet_All    0.663153 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.5699439 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.2072983 
	      SL.gam_All    0 
	   SL.glmnet_All    0.2227578 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.044684
   Estimated Variance:  0.00051604
              p-value:  0.049178
    95% Conf Interval: (-0.089209, -0.00015995) 

 Relative Risk
   Parameter Estimate:  0.89887
              p-value:  0.055288
    95% Conf Interval: (0.80602, 1.0024) 

              log(RR):  -0.10662
    variance(log(RR)):  0.0030944 

 Odds Ratio
   Parameter Estimate:  0.83224
              p-value:  0.050928
    95% Conf Interval: (0.69211, 1.0007) 

              log(OR):  -0.18363
    variance(log(OR)):  0.008849 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 60 observations dropped due to missing
values in one or more variables
  Final sample size: 2690 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.48526
hfias          0.97948
aged           0.00000
sex            0.59714
momage         0.00023
momheight      0.85404
momedu         0.08079
Nlt18          0.02131
Ncomp          0.00001
watmin         0.78116
roof           0.22229
walls          0.01565
floor          0.71624
elec           0.00973
asset_wardrobe 0.22621
n_asset_table  0.21489
n_asset_chair  0.46501
asset_khat     0.73422
asset_chouki   0.27648
asset_tv       0.08198
asset_refrig   0.21520
asset_bike     0.20451
asset_moto     0.70646
asset_sewmach  0.43527
asset_mobile   0.18198


Covariates selected (P<0.2):
                  P-value
aged         4.482204e-17
momage       2.281923e-04
momedu       8.078971e-02
Nlt18        2.130761e-02
Ncomp        8.294459e-06
walls        1.565356e-02
elec         9.731653e-03
asset_tv     8.198397e-02
asset_mobile 1.819807e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.05569239 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.3819692 
	   SL.glmnet_All    0.5623385 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0093573
   Estimated Variance:  0.00047881
              p-value:  0.66892
    95% Conf Interval: (-0.052245, 0.033531) 

 Relative Risk
   Parameter Estimate:  0.97889
              p-value:  0.67027
    95% Conf Interval: (0.88732, 1.0799) 

              log(RR):  -0.021335
    variance(log(RR)):  0.0025108 

 Odds Ratio
   Parameter Estimate:  0.96271
              p-value:  0.66922
    95% Conf Interval: (0.80868, 1.1461) 

              log(OR):  -0.038003
    variance(log(OR)):  0.0079132 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 59 observations dropped due to missing
values in one or more variables
  Final sample size: 2678 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.70324
hfias          0.32585
aged           0.00000
sex            0.83876
momage         0.01742
momheight      0.38258
momedu         0.01219
Nlt18          0.01857
Ncomp          0.00000
watmin         0.64269
roof           0.05929
walls          0.07609
floor          0.02576
elec           0.25964
asset_wardrobe 0.03941
n_asset_table  0.16352
n_asset_chair  0.20379
asset_khat     0.80366
asset_chouki   0.85140
asset_tv       0.00702
asset_refrig   0.00171
asset_bike     0.81341
asset_moto     0.94089
asset_sewmach  0.69196
asset_mobile   0.59824


Covariates selected (P<0.2):
                    P-value
aged           4.459458e-17
momage         1.742064e-02
momedu         1.219399e-02
Nlt18          1.857141e-02
Ncomp          2.802272e-08
roof           5.928624e-02
walls          7.609160e-02
floor          2.575824e-02
asset_wardrobe 3.941007e-02
n_asset_table  1.635159e-01
asset_tv       7.018358e-03
asset_refrig   1.710278e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1711343 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.464981 
	   SL.glmnet_All    0.3638847 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8161412 
	      SL.glm_All    0.1838588 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.01492
   Estimated Variance:  0.00049096
              p-value:  0.50073
    95% Conf Interval: (-0.058349, 0.028509) 

 Relative Risk
   Parameter Estimate:  0.96635
              p-value:  0.50347
    95% Conf Interval: (0.87413, 1.0683) 

              log(RR):  -0.034234
    variance(log(RR)):  0.0026183 

 Odds Ratio
   Parameter Estimate:  0.94112
              p-value:  0.50138
    95% Conf Interval: (0.78853, 1.1232) 

              log(OR):  -0.060682
    variance(log(OR)):  0.0081465 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 67 observations dropped due to missing
values in one or more variables
  Final sample size: 2616 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.21734
hfias          0.00639
aged           0.00000
sex            0.60608
momage         0.02196
momheight      0.94153
momedu         0.10100
Nlt18          0.86715
Ncomp          0.00271
watmin         0.73112
roof           0.25695
walls          0.09937
floor          0.12173
elec           0.37084
asset_wardrobe 0.00009
n_asset_table  0.00368
n_asset_chair  0.01754
asset_khat     0.72107
asset_chouki   0.48562
asset_tv       0.23826
asset_refrig   0.00006
asset_bike     0.85769
asset_moto     0.03265
asset_sewmach  0.57072
asset_mobile   0.05916


Covariates selected (P<0.2):
                    P-value
hfias          6.389636e-03
aged           2.365746e-17
momage         2.195738e-02
momedu         1.009973e-01
Ncomp          2.707065e-03
walls          9.937499e-02
floor          1.217336e-01
asset_wardrobe 9.313920e-05
n_asset_table  3.684245e-03
n_asset_chair  1.753592e-02
asset_refrig   5.669812e-05
asset_moto     3.264575e-02
asset_mobile   5.916336e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1932155 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.8067845 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.5130247 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.4869753 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.046151
   Estimated Variance:  0.00055558
              p-value:  0.050231
    95% Conf Interval: (-0.09235, 4.7355e-05) 

 Relative Risk
   Parameter Estimate:  0.89564
              p-value:  0.053262
    95% Conf Interval: (0.80093, 1.0016) 

              log(RR):  -0.11022
    variance(log(RR)):  0.0032518 

 Odds Ratio
   Parameter Estimate:  0.8272
              p-value:  0.051188
    95% Conf Interval: (0.68358, 1.001) 

              log(OR):  -0.18971
    variance(log(OR)):  0.0094662 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 69 observations dropped due to missing
values in one or more variables
  Final sample size: 2672 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.27660
hfias          0.01248
aged           0.00000
sex            0.39125
momage         0.02726
momheight      0.89375
momedu         0.00602
Nlt18          0.16322
Ncomp          0.00393
watmin         0.72045
roof           0.46687
walls          0.00308
floor          0.03286
elec           0.00539
asset_wardrobe 0.02177
n_asset_table  0.00338
n_asset_chair  0.01018
asset_khat     0.47684
asset_chouki   0.57514
asset_tv       0.03288
asset_refrig   0.06355
asset_bike     0.29613
asset_moto     0.30520
asset_sewmach  0.74407
asset_mobile   0.19621


Covariates selected (P<0.2):
                    P-value
hfias          1.247923e-02
aged           6.569822e-14
momage         2.726489e-02
momedu         6.017527e-03
Nlt18          1.632237e-01
Ncomp          3.933851e-03
walls          3.079420e-03
floor          3.286125e-02
elec           5.391473e-03
asset_wardrobe 2.177068e-02
n_asset_table  3.381544e-03
n_asset_chair  1.017960e-02
asset_tv       3.287943e-02
asset_refrig   6.354922e-02
asset_mobile   1.962128e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.3525509 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.6474491 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8547958 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1452042 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.016224
   Estimated Variance:  0.00049823
              p-value:  0.46731
    95% Conf Interval: (-0.059974, 0.027525) 

 Relative Risk
   Parameter Estimate:  0.96339
              p-value:  0.46938
    95% Conf Interval: (0.8708, 1.0658) 

              log(RR):  -0.037297
    variance(log(RR)):  0.0026576 

 Odds Ratio
   Parameter Estimate:  0.93611
              p-value:  0.46782
    95% Conf Interval: (0.7833, 1.1187) 

              log(OR):  -0.066018
    variance(log(OR)):  0.0082681 

-----------------------------------------
> 
> al_rr_h1_adj_j=format.tmle(est.al.h1,family="binomial")$rr
> al_rd_h1_adj_j=format.tmle(est.al.h1,family="binomial")$rd
> 
> hw_rr_h1_adj_j=format.tmle(est.hw.h1,family="binomial")$rr
> hw_rd_h1_adj_j=format.tmle(est.hw.h1,family="binomial")$rd
> 
> tt_rr_h1_adj_j=format.tmle(est.tt.h1,family="binomial")$rr
> tt_rd_h1_adj_j=format.tmle(est.tt.h1,family="binomial")$rd
> 
> sth_rr_h1_adj_j=format.tmle(est.sth.h1,family="binomial")$rr
> sth_rd_h1_adj_j=format.tmle(est.sth.h1,family="binomial")$rd
> 
> rownames(al_rr_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                                "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> rownames(hw_rr_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                                "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> rownames(tt_rr_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                                "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> rownames(sth_rr_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                                "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> 
> rownames(al_rd_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                                "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> rownames(hw_rd_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                              "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> rownames(tt_rd_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                              "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
> rownames(sth_rd_h1_adj_j)=c("Water vs C","Sanitation vs C","Handwashing vs C",
+                              "WSH vs C","Nutrition vs C","Nutrition + WSH vs C")
>   
> #----------------------------------------------
> # H2: Unadjusted prevalence ratios; combined WSH vs. 
> # single arms.  PR, CI, P-value
> #----------------------------------------------
> trlist=c("Water","Sanitation","Handwashing")
> 
> est.al.h2=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$al,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   1793 
N after dropping incomplete blocks:  1783 

Total of 10 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 38 observations dropped due to missing
values in one or more variables
  Final sample size: 1745 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.11733
hfias          0.72086
aged           0.00000
sex            0.52977
momage         0.98637
momheight      0.35113
momedu         0.17369
Nlt18          0.20377
Ncomp          0.00133
watmin         0.25860
roof           0.73093
walls          0.45569
floor          0.71051
elec           0.13934
asset_wardrobe 0.84996
n_asset_table  0.10156
n_asset_chair  0.18248
asset_khat     0.73626
asset_chouki   0.05827
asset_tv       0.08101
asset_refrig   0.30762
asset_bike     0.13187
asset_moto     0.14873
asset_sewmach  0.03403
asset_mobile   0.21424


Covariates selected (P<0.2):
                   P-value
month         1.173320e-01
aged          2.025701e-07
momedu        1.736856e-01
Ncomp         1.331761e-03
elec          1.393417e-01
n_asset_table 1.015561e-01
n_asset_chair 1.824769e-01
asset_chouki  5.827028e-02
asset_tv      8.100719e-02
asset_bike    1.318681e-01
asset_moto    1.487306e-01
asset_sewmach 3.403293e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2533038 
	      SL.glm_All    0.3123833 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.4343128 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.7559503 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.2440497 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.012233
   Estimated Variance:  0.00059033
              p-value:  0.61461
    95% Conf Interval: (-0.035388, 0.059855) 

 Relative Risk
   Parameter Estimate:  1.0348
              p-value:  0.61593
    95% Conf Interval: (0.90532, 1.1828) 

              log(RR):  0.034214
    variance(log(RR)):  0.004652 

 Odds Ratio
   Parameter Estimate:  1.0547
              p-value:  0.61519
    95% Conf Interval: (0.85693, 1.2981) 

              log(OR):  0.053257
    variance(log(OR)):  0.011225 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 35 observations dropped due to missing
values in one or more variables
  Final sample size: 1749 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.02882
hfias          0.45885
aged           0.00000
sex            0.70559
momage         0.72557
momheight      0.39403
momedu         0.45711
Nlt18          0.36712
Ncomp          0.47226
watmin         0.42277
roof           0.93993
walls          0.49074
floor          0.34226
elec           0.11172
asset_wardrobe 0.40913
n_asset_table  0.78751
n_asset_chair  0.81812
asset_khat     0.70451
asset_chouki   0.55823
asset_tv       0.07271
asset_refrig   0.56078
asset_bike     0.97940
asset_moto     0.05025
asset_sewmach  0.16046
asset_mobile   0.13009


Covariates selected (P<0.2):
                   P-value
month         2.881696e-02
aged          4.068451e-06
elec          1.117188e-01
asset_tv      7.270704e-02
asset_moto    5.024752e-02
asset_sewmach 1.604592e-01
asset_mobile  1.300925e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2582746 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.7417254 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8550208 
	      SL.glm_All    0.1449792 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.027846
   Estimated Variance:  0.00054417
              p-value:  0.2326
    95% Conf Interval: (-0.017876, 0.073568) 

 Relative Risk
   Parameter Estimate:  1.0815
              p-value:  0.23717
    95% Conf Interval: (0.94972, 1.2317) 

              log(RR):  0.078395
    variance(log(RR)):  0.0043981 

 Odds Ratio
   Parameter Estimate:  1.1293
              p-value:  0.23458
    95% Conf Interval: (0.92412, 1.38) 

              log(OR):  0.1216
    variance(log(OR)):  0.010466 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 39 observations dropped due to missing
values in one or more variables
  Final sample size: 1794 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.51475
hfias          0.20268
aged           0.00000
sex            0.17749
momage         0.46837
momheight      0.74752
momedu         0.90203
Nlt18          0.20959
Ncomp          0.00417
watmin         0.48916
roof           0.68686
walls          0.70886
floor          0.89351
elec           0.55585
asset_wardrobe 0.60360
n_asset_table  0.04479
n_asset_chair  0.07830
asset_khat     0.60809
asset_chouki   0.94088
asset_tv       0.20572
asset_refrig   0.91612
asset_bike     0.14072
asset_moto     0.14846
asset_sewmach  0.13405
asset_mobile   0.07639


Covariates selected (P<0.2):
                   P-value
aged          6.950191e-10
sex           1.774892e-01
Ncomp         4.172871e-03
n_asset_table 4.479240e-02
n_asset_chair 7.830445e-02
asset_bike    1.407157e-01
asset_moto    1.484647e-01
asset_sewmach 1.340478e-01
asset_mobile  7.638829e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1689354 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.8310646 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.015297
   Estimated Variance:  0.00068173
              p-value:  0.55797
    95% Conf Interval: (-0.066472, 0.035879) 

 Relative Risk
   Parameter Estimate:  0.96021
              p-value:  0.55719
    95% Conf Interval: (0.83847, 1.0996) 

              log(RR):  -0.040605
    variance(log(RR)):  0.0047846 

 Odds Ratio
   Parameter Estimate:  0.93693
              p-value:  0.55767
    95% Conf Interval: (0.75356, 1.1649) 

              log(OR):  -0.06515
    variance(log(OR)):  0.012347 

-----------------------------------------
> 
> est.hw.h2=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$hw,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   1793 
N after dropping incomplete blocks:  1783 

Total of 10 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 38 observations dropped due to missing
values in one or more variables
  Final sample size: 1745 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00039
hfias          0.00782
aged           0.00000
sex            0.12258
momage         0.51281
momheight      0.03319
momedu         0.00065
Nlt18          0.00322
Ncomp          0.03334
watmin         0.76428
roof           0.03762
walls          0.07881
floor          0.00000
elec           0.00649
asset_wardrobe 0.01480
n_asset_table  0.00018
n_asset_chair  0.00000
asset_khat     0.00159
asset_chouki   0.21990
asset_tv       0.00000
asset_refrig   0.00000
asset_bike     0.60017
asset_moto     0.02345
asset_sewmach  0.08199
asset_mobile   0.00683


Covariates selected (P<0.2):
                    P-value
month          3.933845e-04
hfias          7.815948e-03
aged           1.019219e-09
sex            1.225798e-01
momheight      3.319286e-02
momedu         6.537674e-04
Nlt18          3.220047e-03
Ncomp          3.334354e-02
roof           3.761849e-02
walls          7.880658e-02
floor          2.428344e-06
elec           6.489586e-03
asset_wardrobe 1.479643e-02
n_asset_table  1.784920e-04
n_asset_chair  2.160658e-09
asset_khat     1.588987e-03
asset_tv       1.091050e-10
asset_refrig   2.536667e-07
asset_moto     2.344965e-02
asset_sewmach  8.198648e-02
asset_mobile   6.827566e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2067436 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.2814054 
	   SL.glmnet_All    0.511851 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.026851
   Estimated Variance:  0.0001799
              p-value:  0.045294
    95% Conf Interval: (0.00056212, 0.05314) 

 Relative Risk
   Parameter Estimate:  1.4192
              p-value:  0.04393
    95% Conf Interval: (1.0096, 1.9952) 

              log(RR):  0.35012
    variance(log(RR)):  0.0302 

 Odds Ratio
   Parameter Estimate:  1.4612
              p-value:  0.043699
    95% Conf Interval: (1.0108, 2.1123) 

              log(OR):  0.37923
    variance(log(OR)):  0.035352 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 35 observations dropped due to missing
values in one or more variables
  Final sample size: 1749 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00002
hfias          0.00516
aged           0.00000
sex            0.56873
momage         0.64749
momheight      0.72541
momedu         0.00223
Nlt18          0.00113
Ncomp          0.01096
watmin         0.80992
roof           0.01962
walls          0.43279
floor          0.00000
elec           0.02097
asset_wardrobe 0.09226
n_asset_table  0.00033
n_asset_chair  0.00000
asset_khat     0.00006
asset_chouki   0.04072
asset_tv       0.00000
asset_refrig   0.00011
asset_bike     0.58098
asset_moto     0.15187
asset_sewmach  0.05118
asset_mobile   0.29907


Covariates selected (P<0.2):
                    P-value
month          1.917047e-05
hfias          5.155844e-03
aged           1.806364e-13
momedu         2.227259e-03
Nlt18          1.128814e-03
Ncomp          1.095847e-02
roof           1.961967e-02
floor          9.783449e-07
elec           2.096972e-02
asset_wardrobe 9.225720e-02
n_asset_table  3.276506e-04
n_asset_chair  4.124575e-09
asset_khat     5.713099e-05
asset_chouki   4.071522e-02
asset_tv       2.314453e-10
asset_refrig   1.100980e-04
asset_moto     1.518657e-01
asset_sewmach  5.117643e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2426179 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.6463781 
	   SL.glmnet_All    0.1110041 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.3461092 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.6538908 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.019071
   Estimated Variance:  0.000216
              p-value:  0.19443
    95% Conf Interval: (-0.0097357, 0.047877) 

 Relative Risk
   Parameter Estimate:  1.258
              p-value:  0.20207
    95% Conf Interval: (0.88415, 1.7899) 

              log(RR):  0.22952
    variance(log(RR)):  0.032373 

 Odds Ratio
   Parameter Estimate:  1.2845
              p-value:  0.20105
    95% Conf Interval: (0.8751, 1.8853) 

              log(OR):  0.25033
    variance(log(OR)):  0.038334 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 39 observations dropped due to missing
values in one or more variables
  Final sample size: 1794 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00002
hfias          0.02315
aged           0.00000
sex            0.00919
momage         0.28676
momheight      0.42694
momedu         0.00016
Nlt18          0.00000
Ncomp          0.00450
watmin         0.91791
roof           0.07666
walls          0.32432
floor          0.00267
elec           0.00580
asset_wardrobe 0.05112
n_asset_table  0.00002
n_asset_chair  0.00000
asset_khat     0.00000
asset_chouki   0.00877
asset_tv       0.00001
asset_refrig   0.00058
asset_bike     0.34449
asset_moto     0.08262
asset_sewmach  0.02450
asset_mobile   0.08053


Covariates selected (P<0.2):
                    P-value
month          1.774353e-05
hfias          2.315364e-02
aged           7.157895e-14
sex            9.185429e-03
momedu         1.565472e-04
Nlt18          2.421098e-07
Ncomp          4.504835e-03
roof           7.665625e-02
floor          2.670849e-03
elec           5.804275e-03
asset_wardrobe 5.111646e-02
n_asset_table  1.764710e-05
n_asset_chair  5.256880e-08
asset_khat     1.729270e-06
asset_chouki   8.766532e-03
asset_tv       1.019793e-05
asset_refrig   5.815050e-04
asset_moto     8.261503e-02
asset_sewmach  2.450107e-02
asset_mobile   8.052659e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1466459 
	   SL.glmnet_All    0.8533541 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.960821 
	      SL.glm_All    0.03917898 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.0033366
   Estimated Variance:  0.00019323
              p-value:  0.81031
    95% Conf Interval: (-0.023909, 0.030582) 

 Relative Risk
   Parameter Estimate:  1.0376
              p-value:  0.80963
    95% Conf Interval: (0.76819, 1.4016) 

              log(RR):  0.036954
    variance(log(RR)):  0.023532 

 Odds Ratio
   Parameter Estimate:  1.0415
              p-value:  0.8097
    95% Conf Interval: (0.74827, 1.4495) 

              log(OR):  0.040622
    variance(log(OR)):  0.028454 

-----------------------------------------
> 
> est.tt.h2=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$tt,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   1793 
N after dropping incomplete blocks:  1783 

Total of 10 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 38 observations dropped due to missing
values in one or more variables
  Final sample size: 1745 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.04108
aged           0.12249
sex            0.92520
momage         0.99931
momheight      0.59039
momedu         0.00000
Nlt18          0.01556
Ncomp          0.00000
watmin         0.95088
roof           0.21176
walls          0.12438
floor          0.00021
elec           0.61163
asset_wardrobe 0.14519
n_asset_table  0.08336
n_asset_chair  0.00175
asset_khat     0.00006
asset_chouki   0.04140
asset_tv       0.00777
asset_refrig   0.10802
asset_bike     0.32237
asset_moto     0.33116
asset_sewmach  0.19441
asset_mobile   0.45178


Covariates selected (P<0.2):
                    P-value
month          3.892085e-07
hfias          4.107864e-02
aged           1.224911e-01
momedu         3.234467e-06
Nlt18          1.555843e-02
Ncomp          2.863963e-10
walls          1.243785e-01
floor          2.068066e-04
asset_wardrobe 1.451904e-01
n_asset_table  8.336298e-02
n_asset_chair  1.748393e-03
asset_khat     6.414008e-05
asset_chouki   4.140349e-02
asset_tv       7.773583e-03
asset_refrig   1.080240e-01
asset_sewmach  1.944119e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.05370573 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.9462943 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.9428446 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.05715539 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.015154
   Estimated Variance:  0.00015016
              p-value:  0.2162
    95% Conf Interval: (-0.0088635, 0.039172) 

 Relative Risk
   Parameter Estimate:  1.257
              p-value:  0.19911
    95% Conf Interval: (0.88658, 1.7821) 

              log(RR):  0.22871
    variance(log(RR)):  0.031723 

 Odds Ratio
   Parameter Estimate:  1.2776
              p-value:  0.19989
    95% Conf Interval: (0.87847, 1.8579) 

              log(OR):  0.24494
    variance(log(OR)):  0.036513 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 35 observations dropped due to missing
values in one or more variables
  Final sample size: 1749 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.00005
aged           0.00109
sex            0.16072
momage         0.48663
momheight      0.26607
momedu         0.00000
Nlt18          0.01335
Ncomp          0.00000
watmin         0.26735
roof           0.00177
walls          0.05764
floor          0.00023
elec           0.00966
asset_wardrobe 0.13270
n_asset_table  0.00036
n_asset_chair  0.00005
asset_khat     0.00539
asset_chouki   0.10325
asset_tv       0.00141
asset_refrig   0.06083
asset_bike     0.04566
asset_moto     0.00622
asset_sewmach  0.01672
asset_mobile   0.03803


Covariates selected (P<0.2):
                    P-value
month          1.552718e-07
hfias          4.756388e-05
aged           1.086656e-03
sex            1.607162e-01
momedu         1.480697e-06
Nlt18          1.334909e-02
Ncomp          9.884312e-09
roof           1.769121e-03
walls          5.764498e-02
floor          2.267529e-04
elec           9.662770e-03
asset_wardrobe 1.327030e-01
n_asset_table  3.613252e-04
n_asset_chair  4.789991e-05
asset_khat     5.388678e-03
asset_chouki   1.032549e-01
asset_tv       1.412306e-03
asset_refrig   6.082562e-02
asset_bike     4.565825e-02
asset_moto     6.216143e-03
asset_sewmach  1.671704e-02
asset_mobile   3.802828e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.4703677 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.3005421 
	      SL.gam_All    0 
	   SL.glmnet_All    0.2290903 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.1367366 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.8632634 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.01194
   Estimated Variance:  0.00017488
              p-value:  0.36658
    95% Conf Interval: (-0.013979, 0.03786) 

 Relative Risk
   Parameter Estimate:  1.1825
              p-value:  0.36522
    95% Conf Interval: (0.82267, 1.6997) 

              log(RR):  0.16761
    variance(log(RR)):  0.034266 

 Odds Ratio
   Parameter Estimate:  1.1978
              p-value:  0.36505
    95% Conf Interval: (0.81055, 1.77) 

              log(OR):  0.18047
    variance(log(OR)):  0.039697 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 39 observations dropped due to missing
values in one or more variables
  Final sample size: 1794 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.34394
aged           0.00143
sex            0.88416
momage         0.87664
momheight      0.94132
momedu         0.00011
Nlt18          0.00409
Ncomp          0.00000
watmin         0.26482
roof           0.28420
walls          0.00096
floor          0.00003
elec           0.31554
asset_wardrobe 0.04380
n_asset_table  0.03019
n_asset_chair  0.00025
asset_khat     0.01584
asset_chouki   0.12351
asset_tv       0.01990
asset_refrig   0.12047
asset_bike     0.40128
asset_moto     0.02089
asset_sewmach  0.02867
asset_mobile   0.19666


Covariates selected (P<0.2):
                    P-value
month          2.438862e-07
aged           1.426300e-03
momedu         1.078318e-04
Nlt18          4.087717e-03
Ncomp          7.552604e-08
walls          9.597334e-04
floor          3.031120e-05
asset_wardrobe 4.380414e-02
n_asset_table  3.018976e-02
n_asset_chair  2.454829e-04
asset_khat     1.584004e-02
asset_chouki   1.235135e-01
asset_tv       1.990346e-02
asset_refrig   1.204726e-01
asset_moto     2.088820e-02
asset_sewmach  2.866922e-02
asset_mobile   1.966563e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2814646 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1200855 
	   SL.glmnet_All    0.5984499 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.025278
   Estimated Variance:  0.00017121
              p-value:  0.053373
    95% Conf Interval: (-0.00036785, 0.050924) 

 Relative Risk
   Parameter Estimate:  1.4813
              p-value:  0.046861
    95% Conf Interval: (1.0055, 2.1823) 

              log(RR):  0.39292
    variance(log(RR)):  0.039082 

 Odds Ratio
   Parameter Estimate:  1.5219
              p-value:  0.046807
    95% Conf Interval: (1.0059, 2.3025) 

              log(OR):  0.41996
    variance(log(OR)):  0.044624 

-----------------------------------------
> 
> est.sth.h2=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$sth,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
----------------------------------------- 
There were 1 pairs dropped because they were
missing at least one treatment level.
This is the list of their IDs:
 19
----------------------------------------- 
Starting N:   1793 
N after dropping incomplete blocks:  1783 

Total of 10 observations dropped
 because of unmatched pairs. 
-----------------------------------------

-----------------------------------------
Total of 38 observations dropped due to missing
values in one or more variables
  Final sample size: 1745 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.81988
hfias          0.59959
aged           0.00000
sex            0.06879
momage         0.64347
momheight      0.89290
momedu         0.00361
Nlt18          0.05300
Ncomp          0.00001
watmin         0.17442
roof           0.06124
walls          0.17087
floor          0.09593
elec           0.99124
asset_wardrobe 0.40078
n_asset_table  0.71204
n_asset_chair  0.93522
asset_khat     0.06663
asset_chouki   0.04121
asset_tv       0.00033
asset_refrig   0.04375
asset_bike     0.48764
asset_moto     0.32274
asset_sewmach  0.25946
asset_mobile   0.93344


Covariates selected (P<0.2):
                  P-value
aged         6.806462e-11
sex          6.879461e-02
momedu       3.609115e-03
Nlt18        5.300490e-02
Ncomp        1.416846e-05
watmin       1.744249e-01
roof         6.123966e-02
walls        1.708749e-01
floor        9.592704e-02
asset_khat   6.663419e-02
asset_chouki 4.121183e-02
asset_tv     3.281917e-04
asset_refrig 4.375001e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2547716 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.7452284 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.8581958 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.1418042 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.018643
   Estimated Variance:  0.00069602
              p-value:  0.47977
    95% Conf Interval: (-0.033066, 0.070352) 

 Relative Risk
   Parameter Estimate:  1.046
              p-value:  0.48194
    95% Conf Interval: (0.92277, 1.1857) 

              log(RR):  0.044973
    variance(log(RR)):  0.0040903 

 Odds Ratio
   Parameter Estimate:  1.0799
              p-value:  0.48044
    95% Conf Interval: (0.87234, 1.3367) 

              log(OR):  0.076824
    variance(log(OR)):  0.011854 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 35 observations dropped due to missing
values in one or more variables
  Final sample size: 1749 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.70656
hfias          0.01987
aged           0.00000
sex            0.70706
momage         0.33548
momheight      0.20570
momedu         0.00626
Nlt18          0.04529
Ncomp          0.03461
watmin         0.51161
roof           0.15051
walls          0.22314
floor          0.77315
elec           0.69140
asset_wardrobe 0.77752
n_asset_table  0.16848
n_asset_chair  0.18236
asset_khat     0.06647
asset_chouki   0.20080
asset_tv       0.00009
asset_refrig   0.69872
asset_bike     0.49356
asset_moto     0.21433
asset_sewmach  0.55020
asset_mobile   0.77362


Covariates selected (P<0.2):
                   P-value
hfias         1.987160e-02
aged          6.724907e-12
momedu        6.259853e-03
Nlt18         4.528689e-02
Ncomp         3.460821e-02
roof          1.505080e-01
n_asset_table 1.684794e-01
n_asset_chair 1.823611e-01
asset_khat    6.647324e-02
asset_tv      9.474478e-05

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.08562745 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.04677719 
	   SL.glmnet_All    0.8675954 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.6219218 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0.3780782 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.0376
   Estimated Variance:  0.00064611
              p-value:  0.13908
    95% Conf Interval: (-0.012221, 0.08742) 

 Relative Risk
   Parameter Estimate:  1.0954
              p-value:  0.14349
    95% Conf Interval: (0.96951, 1.2377) 

              log(RR):  0.091136
    variance(log(RR)):  0.0038809 

 Odds Ratio
   Parameter Estimate:  1.1679
              p-value:  0.14047
    95% Conf Interval: (0.95012, 1.4356) 

              log(OR):  0.1552
    variance(log(OR)):  0.011085 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 39 observations dropped due to missing
values in one or more variables
  Final sample size: 1794 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.36868
hfias          0.58836
aged           0.00000
sex            0.02405
momage         0.26405
momheight      0.84269
momedu         0.12975
Nlt18          0.00379
Ncomp          0.00001
watmin         0.73496
roof           0.13421
walls          0.27808
floor          0.35293
elec           0.22974
asset_wardrobe 0.95038
n_asset_table  0.45614
n_asset_chair  0.68538
asset_khat     0.43089
asset_chouki   0.66337
asset_tv       0.01117
asset_refrig   0.85112
asset_bike     0.09286
asset_moto     0.39631
asset_sewmach  0.35061
asset_mobile   0.56747


Covariates selected (P<0.2):
                P-value
aged       2.181737e-15
sex        2.404779e-02
momedu     1.297529e-01
Nlt18      3.794593e-03
Ncomp      1.424949e-05
roof       1.342073e-01
asset_tv   1.117388e-02
asset_bike 9.286102e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.0946609 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.4904908 
	   SL.glmnet_All    0.4148483 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0029245
   Estimated Variance:  0.00070099
              p-value:  0.91205
    95% Conf Interval: (-0.054818, 0.048969) 

 Relative Risk
   Parameter Estimate:  0.99325
              p-value:  0.91206
    95% Conf Interval: (0.88081, 1.12) 

              log(RR):  -0.0067698
    variance(log(RR)):  0.0037572 

 Odds Ratio
   Parameter Estimate:  0.98815
              p-value:  0.91205
    95% Conf Interval: (0.79979, 1.2209) 

              log(OR):  -0.011918
    variance(log(OR)):  0.011643 

-----------------------------------------
> 
> al_rr_h2_adj_j=format.tmle(est.al.h2,family="binomial")$rr
> al_rd_h2_adj_j=format.tmle(est.al.h2,family="binomial")$rd
> 
> hw_rr_h2_adj_j=format.tmle(est.hw.h2,family="binomial")$rr
> hw_rd_h2_adj_j=format.tmle(est.hw.h2,family="binomial")$rd
> 
> tt_rr_h2_adj_j=format.tmle(est.tt.h2,family="binomial")$rr
> tt_rd_h2_adj_j=format.tmle(est.tt.h2,family="binomial")$rd
> 
> sth_rr_h2_adj_j=format.tmle(est.sth.h2,family="binomial")$rr
> sth_rd_h2_adj_j=format.tmle(est.sth.h2,family="binomial")$rd
> 
> rownames(al_rr_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> rownames(hw_rr_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> rownames(tt_rr_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> rownames(sth_rr_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> 
> rownames(al_rd_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> rownames(hw_rd_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> rownames(tt_rd_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> rownames(sth_rd_h2_adj_j)=c("WSH vs Water","WSH vs Sanitation","WSH vs Handwashing")
> 
> #----------------------------------------------
> # H3: Unadjusted prevalence ratios; combined WSH Nvs. 
> # single arms.  PR, CI, P-value
> #----------------------------------------------
> trlist=c("WSH","Nutrition")
> 
> est.al.h3=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$al,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"Nutrition + WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 48 observations dropped due to missing
values in one or more variables
  Final sample size: 1776 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.74633
hfias          0.10098
aged           0.00000
sex            0.84528
momage         0.80776
momheight      0.84769
momedu         0.04343
Nlt18          0.07022
Ncomp          0.07176
watmin         0.30219
roof           0.72379
walls          0.43415
floor          0.02712
elec           0.54255
asset_wardrobe 0.85399
n_asset_table  0.60694
n_asset_chair  0.66757
asset_khat     0.18402
asset_chouki   0.01462
asset_tv       0.15876
asset_refrig   0.82641
asset_bike     0.40865
asset_moto     0.24477
asset_sewmach  0.56433
asset_mobile   0.05454


Covariates selected (P<0.2):
                  P-value
hfias        1.009787e-01
aged         2.298321e-08
momedu       4.343298e-02
Nlt18        7.021668e-02
Ncomp        7.176472e-02
floor        2.711945e-02
asset_khat   1.840151e-01
asset_chouki 1.462369e-02
asset_tv     1.587649e-01
asset_mobile 5.453645e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.233195 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.766805 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0067016
   Estimated Variance:  0.00058948
              p-value:  0.78253
    95% Conf Interval: (-0.054289, 0.040886) 

 Relative Risk
   Parameter Estimate:  0.98185
              p-value:  0.78241
    95% Conf Interval: (0.8622, 1.1181) 

              log(RR):  -0.018312
    variance(log(RR)):  0.004396 

 Odds Ratio
   Parameter Estimate:  0.97153
              p-value:  0.78248
    95% Conf Interval: (0.79143, 1.1926) 

              log(OR):  -0.028882
    variance(log(OR)):  0.010943 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 56 observations dropped due to missing
values in one or more variables
  Final sample size: 1714 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.34149
hfias          0.00056
aged           0.00000
sex            0.63342
momage         0.47613
momheight      0.61371
momedu         0.30983
Nlt18          0.19042
Ncomp          0.45028
watmin         0.34003
roof           0.64983
walls          0.30826
floor          0.07674
elec           0.95419
asset_wardrobe 0.04582
n_asset_table  0.02263
n_asset_chair  0.00455
asset_khat     0.08053
asset_chouki   0.16341
asset_tv       0.52597
asset_refrig   0.41243
asset_bike     0.44106
asset_moto     0.17437
asset_sewmach  0.96357
asset_mobile   0.47063


Covariates selected (P<0.2):
                    P-value
hfias          5.565530e-04
aged           2.257420e-08
Nlt18          1.904183e-01
floor          7.674358e-02
asset_wardrobe 4.582484e-02
n_asset_table  2.262847e-02
n_asset_chair  4.552428e-03
asset_khat     8.052513e-02
asset_chouki   1.634086e-01
asset_moto     1.743721e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1362488 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.2590575 
	   SL.glmnet_All    0.6046936 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.6441791 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.3558209 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.012599
   Estimated Variance:  0.00048904
              p-value:  0.56885
    95% Conf Interval: (-0.030745, 0.055944) 

 Relative Risk
   Parameter Estimate:  1.036
              p-value:  0.56946
    95% Conf Interval: (0.91712, 1.1703) 

              log(RR):  0.035376
    variance(log(RR)):  0.0038675 

 Odds Ratio
   Parameter Estimate:  1.0565
              p-value:  0.56912
    95% Conf Interval: (0.87441, 1.2765) 

              log(OR):  0.054947
    variance(log(OR)):  0.0093139 

-----------------------------------------
> 
> est.hw.h3=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$hw,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"Nutrition + WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 48 observations dropped due to missing
values in one or more variables
  Final sample size: 1776 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00364
hfias          0.00069
aged           0.00000
sex            0.01162
momage         0.26171
momheight      0.36946
momedu         0.00001
Nlt18          0.00736
Ncomp          0.08578
watmin         0.40004
roof           0.48575
walls          0.01504
floor          0.00002
elec           0.00003
asset_wardrobe 0.02081
n_asset_table  0.00023
n_asset_chair  0.00000
asset_khat     0.00050
asset_chouki   0.00388
asset_tv       0.00000
asset_refrig   0.00000
asset_bike     0.07335
asset_moto     0.00477
asset_sewmach  0.06936
asset_mobile   0.38518


Covariates selected (P<0.2):
                    P-value
month          3.643952e-03
hfias          6.861768e-04
aged           8.595215e-07
sex            1.161570e-02
momedu         1.063795e-05
Nlt18          7.364283e-03
Ncomp          8.577775e-02
walls          1.503846e-02
floor          2.187174e-05
elec           2.609218e-05
asset_wardrobe 2.081173e-02
n_asset_table  2.266788e-04
n_asset_chair  9.485215e-08
asset_khat     4.954822e-04
asset_chouki   3.879299e-03
asset_tv       1.227299e-07
asset_refrig   2.485742e-06
asset_bike     7.335096e-02
asset_moto     4.766561e-03
asset_sewmach  6.935888e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1923291 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.8076709 
	   SL.glmnet_All    0 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.023612
   Estimated Variance:  0.00020402
              p-value:  0.098311
    95% Conf Interval: (-0.051607, 0.0043836) 

 Relative Risk
   Parameter Estimate:  0.74251
              p-value:  0.098213
    95% Conf Interval: (0.52173, 1.0567) 

              log(RR):  -0.29772
    variance(log(RR)):  0.032417 

 Odds Ratio
   Parameter Estimate:  0.7237
              p-value:  0.097833
    95% Conf Interval: (0.49349, 1.0613) 

              log(OR):  -0.32339
    variance(log(OR)):  0.03816 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 56 observations dropped due to missing
values in one or more variables
  Final sample size: 1714 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.03938
hfias          0.00011
aged           0.00009
sex            0.00178
momage         0.79136
momheight      0.07345
momedu         0.00072
Nlt18          0.14814
Ncomp          0.62170
watmin         0.81205
roof           0.53590
walls          0.05979
floor          0.04011
elec           0.00000
asset_wardrobe 0.01593
n_asset_table  0.00112
n_asset_chair  0.00036
asset_khat     0.00199
asset_chouki   0.03091
asset_tv       0.00497
asset_refrig   0.00002
asset_bike     0.00025
asset_moto     0.00098
asset_sewmach  0.11996
asset_mobile   0.03372


Covariates selected (P<0.2):
                    P-value
month          3.937790e-02
hfias          1.118467e-04
aged           9.099469e-05
sex            1.776661e-03
momheight      7.344567e-02
momedu         7.159833e-04
Nlt18          1.481384e-01
walls          5.979343e-02
floor          4.011493e-02
elec           1.433071e-06
asset_wardrobe 1.593377e-02
n_asset_table  1.118943e-03
n_asset_chair  3.596890e-04
asset_khat     1.987433e-03
asset_chouki   3.091374e-02
asset_tv       4.971766e-03
asset_refrig   2.296783e-05
asset_bike     2.477128e-04
asset_moto     9.819720e-04
asset_sewmach  1.199644e-01
asset_mobile   3.371953e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2206804 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.584872 
	   SL.glmnet_All    0.1944476 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.7718551 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.2281449 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0042772
   Estimated Variance:  0.00014429
              p-value:  0.72178
    95% Conf Interval: (-0.02782, 0.019266) 

 Relative Risk
   Parameter Estimate:  0.93985
              p-value:  0.7214
    95% Conf Interval: (0.66831, 1.3217) 

              log(RR):  -0.062034
    variance(log(RR)):  0.030264 

 Odds Ratio
   Parameter Estimate:  0.93554
              p-value:  0.72142
    95% Conf Interval: (0.64864, 1.3493) 

              log(OR):  -0.066628
    variance(log(OR)):  0.034916 

-----------------------------------------
> 
> est.tt.h3=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$tt,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"Nutrition + WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 48 observations dropped due to missing
values in one or more variables
  Final sample size: 1776 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.00916
aged           0.00405
sex            0.13986
momage         0.65655
momheight      0.68633
momedu         0.00000
Nlt18          0.05718
Ncomp          0.00018
watmin         0.72708
roof           0.43735
walls          0.01075
floor          0.00234
elec           0.11374
asset_wardrobe 0.00829
n_asset_table  0.00567
n_asset_chair  0.00013
asset_khat     0.00088
asset_chouki   0.01869
asset_tv       0.00319
asset_refrig   0.07456
asset_bike     0.31792
asset_moto     0.00146
asset_sewmach  0.21021
asset_mobile   0.10670


Covariates selected (P<0.2):
                    P-value
month          2.902524e-08
hfias          9.161114e-03
aged           4.052914e-03
sex            1.398582e-01
momedu         3.110809e-06
Nlt18          5.718417e-02
Ncomp          1.790822e-04
walls          1.075004e-02
floor          2.344368e-03
elec           1.137406e-01
asset_wardrobe 8.286317e-03
n_asset_table  5.674827e-03
n_asset_chair  1.279957e-04
asset_khat     8.832041e-04
asset_chouki   1.868794e-02
asset_tv       3.189364e-03
asset_refrig   7.455714e-02
asset_moto     1.456716e-03
asset_mobile   1.067045e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.5179844 
	      SL.glm_All    0 
	 SL.bayesglm_All    0.2989968 
	      SL.gam_All    0.1788922 
	   SL.glmnet_All    0.00412659 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0050286
   Estimated Variance:  0.00023375
              p-value:  0.74223
    95% Conf Interval: (-0.034995, 0.024937) 

 Relative Risk
   Parameter Estimate:  0.93596
              p-value:  0.74046
    95% Conf Interval: (0.63267, 1.3846) 

              log(RR):  -0.066184
    variance(log(RR)):  0.039922 

 Odds Ratio
   Parameter Estimate:  0.93088
              p-value:  0.74059
    95% Conf Interval: (0.60917, 1.4225) 

              log(OR):  -0.071626
    variance(log(OR)):  0.046805 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 56 observations dropped due to missing
values in one or more variables
  Final sample size: 1714 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.00000
hfias          0.00484
aged           0.00113
sex            0.80806
momage         0.53572
momheight      0.20560
momedu         0.00008
Nlt18          0.86629
Ncomp          0.68592
watmin         0.10551
roof           0.06379
walls          0.25019
floor          0.05516
elec           0.02747
asset_wardrobe 0.02673
n_asset_table  0.00005
n_asset_chair  0.00138
asset_khat     0.00607
asset_chouki   0.24268
asset_tv       0.06588
asset_refrig   0.03289
asset_bike     0.01386
asset_moto     0.00993
asset_sewmach  0.63628
asset_mobile   0.00965


Covariates selected (P<0.2):
                    P-value
month          5.167178e-07
hfias          4.838640e-03
aged           1.126385e-03
momedu         7.994050e-05
watmin         1.055063e-01
roof           6.378744e-02
floor          5.516246e-02
elec           2.746719e-02
asset_wardrobe 2.672961e-02
n_asset_table  5.000443e-05
n_asset_chair  1.379914e-03
asset_khat     6.072783e-03
asset_tv       6.588466e-02
asset_refrig   3.288891e-02
asset_bike     1.385937e-02
asset_moto     9.927331e-03
asset_mobile   9.647735e-03

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.2535341 
	      SL.glm_All    0.07472002 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.4748117 
	   SL.glmnet_All    0.1969342 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.7719807 
	      SL.glm_All    0.2280193 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.013202
   Estimated Variance:  0.00019201
              p-value:  0.34073
    95% Conf Interval: (-0.013957, 0.040361) 

 Relative Risk
   Parameter Estimate:  1.2234
              p-value:  0.34498
    95% Conf Interval: (0.80504, 1.8592) 

              log(RR):  0.20165
    variance(log(RR)):  0.045592 

 Odds Ratio
   Parameter Estimate:  1.2408
              p-value:  0.3444
    95% Conf Interval: (0.79333, 1.9407) 

              log(OR):  0.21578
    variance(log(OR)):  0.05208 

-----------------------------------------
> 
> est.sth.h3=apply(matrix(trlist), 1,function(x) washb_tmle(Y=dW$sth,tr=dW$tr,
+    pair=dW$block, id=dW$block,W=dW[,W],
+    family="binomial",contrast=c(x,"Nutrition + WSH"),Q.SL.library=SL.library,
+    g.SL.library=SL.library, pval=0.2, seed=12345, print=TRUE))

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 48 observations dropped due to missing
values in one or more variables
  Final sample size: 1776 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.17547
hfias          0.01256
aged           0.00000
sex            0.57322
momage         0.41636
momheight      0.55551
momedu         0.00225
Nlt18          0.06505
Ncomp          0.01269
watmin         0.57867
roof           0.35762
walls          0.07722
floor          0.00061
elec           0.14173
asset_wardrobe 0.23213
n_asset_table  0.23471
n_asset_chair  0.06870
asset_khat     0.03631
asset_chouki   0.01158
asset_tv       0.00259
asset_refrig   0.35993
asset_bike     0.15578
asset_moto     0.98801
asset_sewmach  0.73734
asset_mobile   0.51302


Covariates selected (P<0.2):
                   P-value
month         1.754729e-01
hfias         1.256074e-02
aged          7.435498e-12
momedu        2.252416e-03
Nlt18         6.505306e-02
Ncomp         1.269168e-02
walls         7.722034e-02
floor         6.144843e-04
elec          1.417290e-01
n_asset_chair 6.869573e-02
asset_khat    3.631469e-02
asset_chouki  1.157720e-02
asset_tv      2.593757e-03
asset_bike    1.557777e-01

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    1 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    1 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  -0.0041672
   Estimated Variance:  0.00069558
              p-value:  0.87445
    95% Conf Interval: (-0.05586, 0.047526) 

 Relative Risk
   Parameter Estimate:  0.99033
              p-value:  0.87442
    95% Conf Interval: (0.87795, 1.1171) 

              log(RR):  -0.0097127
    variance(log(RR)):  0.0037766 

 Odds Ratio
   Parameter Estimate:  0.98313
              p-value:  0.87445
    95% Conf Interval: (0.79611, 1.2141) 

              log(OR):  -0.017011
    variance(log(OR)):  0.01159 

-----------------------------------------

----------------------------------------- 
By specifying the pair argument,
you have indicated that this is a matched pair analysis.

Note: the analysis will only include pairs
that have a contrast in the treatment variable. 
-----------------------------------------
-----------------------------------------
Total of 56 observations dropped due to missing
values in one or more variables
  Final sample size: 1714 
-----------------------------------------

-----------------------------------------
Pre-screening the adjustment covariates
using a univariate liklihood ratio test:
-----------------------------------------

Likelihood Ratio Test P-values:
               P-value
month          0.01313
hfias          0.00000
aged           0.00000
sex            0.75534
momage         0.31557
momheight      0.66971
momedu         0.01302
Nlt18          0.24772
Ncomp          0.51346
watmin         0.14281
roof           0.90291
walls          0.11306
floor          0.01206
elec           0.21183
asset_wardrobe 0.00108
n_asset_table  0.00112
n_asset_chair  0.00049
asset_khat     0.02249
asset_chouki   0.14418
asset_tv       0.23856
asset_refrig   0.05649
asset_bike     0.11694
asset_moto     0.01593
asset_sewmach  0.52681
asset_mobile   0.29378


Covariates selected (P<0.2):
                    P-value
month          1.312952e-02
hfias          4.645523e-06
aged           3.209652e-12
momedu         1.301936e-02
watmin         1.428127e-01
walls          1.130623e-01
floor          1.205547e-02
asset_wardrobe 1.084934e-03
n_asset_table  1.118978e-03
n_asset_chair  4.911950e-04
asset_khat     2.249023e-02
asset_chouki   1.441825e-01
asset_refrig   5.649035e-02
asset_bike     1.169410e-01
asset_moto     1.593147e-02

-----------------------------------------

-----------------------------------------
Estimation Results:
-----------------------------------------
 Initial estimation of Q
	 Procedure: SuperLearner
	 Model:
		 Y ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All

	 Coefficients: 
	     SL.mean_All    0.1892117 
	      SL.glm_All    0 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.7836078 
	   SL.glmnet_All    0.02718052 

 Estimation of g (treatment mechanism)
	 Procedure: SuperLearner 
	 Model:
		 A ~  SL.mean_All + SL.glm_All + SL.bayesglm_All + SL.gam_All + SL.glmnet_All 

	 Coefficients: 
	     SL.mean_All    0.7935123 
	      SL.glm_All    0.2038272 
	 SL.bayesglm_All    0 
	      SL.gam_All    0.002660415 
	   SL.glmnet_All    0 

 Estimation of g.Z (intermediate variable assignment mechanism)
	 Procedure: No intermediate variable 

 Estimation of g.Delta (missingness mechanism)
	 Procedure: No missingness 

 Bounds on g: ( 0.025 0.975 )

 Additive Effect
   Parameter Estimate:  0.030869
   Estimated Variance:  0.00052971
              p-value:  0.17985
    95% Conf Interval: (-0.014241, 0.075979) 

 Relative Risk
   Parameter Estimate:  1.0779
              p-value:  0.18073
    95% Conf Interval: (0.96575, 1.2032) 

              log(RR):  0.075054
    variance(log(RR)):  0.0031442 

 Odds Ratio
   Parameter Estimate:  1.136
              p-value:  0.18017
    95% Conf Interval: (0.94273, 1.3689) 

              log(OR):  0.12752
    variance(log(OR)):  0.009053 

-----------------------------------------
> 
> al_rr_h3_adj_j=format.tmle(est.al.h3,family="binomial")$rr
> al_rd_h3_adj_j=format.tmle(est.al.h3,family="binomial")$rd
> 
> hw_rr_h3_adj_j=format.tmle(est.hw.h3,family="binomial")$rr
> hw_rd_h3_adj_j=format.tmle(est.hw.h3,family="binomial")$rd
> 
> tt_rr_h3_adj_j=format.tmle(est.tt.h3,family="binomial")$rr
> tt_rd_h3_adj_j=format.tmle(est.tt.h3,family="binomial")$rd
> 
> sth_rr_h3_adj_j=format.tmle(est.sth.h3,family="binomial")$rr
> sth_rd_h3_adj_j=format.tmle(est.sth.h3,family="binomial")$rd
> 
> rownames(al_rr_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> rownames(hw_rr_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> rownames(tt_rr_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> rownames(sth_rr_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> 
> rownames(al_rd_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> rownames(hw_rd_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> rownames(tt_rd_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> rownames(sth_rd_h3_adj_j)=c("Nutrition + WSH vs WSH","Nutrition + WSH vs Nutrition")
> 
> #----------------------------------------------
> # save objects
> #----------------------------------------------
> 
> save(al_rr_h1_adj_j,hw_rr_h1_adj_j,tt_rr_h1_adj_j,sth_rr_h1_adj_j,
+      al_rd_h1_adj_j,hw_rd_h1_adj_j,tt_rd_h1_adj_j,sth_rd_h1_adj_j,
+ 
+      al_rr_h2_adj_j,hw_rr_h2_adj_j,tt_rr_h2_adj_j,sth_rr_h2_adj_j,
+      al_rd_h2_adj_j,hw_rd_h2_adj_j,tt_rd_h2_adj_j,sth_rd_h2_adj_j,
+ 
+      al_rr_h3_adj_j,hw_rr_h3_adj_j,tt_rr_h3_adj_j,sth_rr_h3_adj_j,
+      al_rd_h3_adj_j,hw_rd_h3_adj_j,tt_rd_h3_adj_j,sth_rd_h3_adj_j,
+      
+      file="~/Dropbox/WASHB Parasites/Results/Jade/sth_pr_adj.RData")
> 
> 
> 
> proc.time()
   user  system elapsed 
294.984   7.735 308.358 
